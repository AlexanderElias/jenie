<style>
	.group {
		margin: 4px;
		padding: 4px;
		border: solid 1px dimgray;
	}
	.group input {
		padding: 4px;
		display: block;
		margin: 4px auto;
	}
	.group div {
		margin: 4px;
		padding: 4px;
		display: inline-block;
		background: lightgray;
	}
</style>

<table>
	<tr>
		<th>All Elements</th>
		<th>Group Elements</th>
	</tr>
	<tr>
		<td>5000</td>
		<td>1000</td>
	</tr>
</table>

<div class="container"></div>

<script src="./qsa.js"></script>

<script>
	console.log('started creating elements');
	var container = document.querySelector('.container');
	var group = document.createElement('div');
	var input = document.createElement('input');
	var div = document.createElement('div');
	group.setAttribute('class', 'group');
	var totalAmount = 1000, groupAmount = totalAmount/5;
	var i = 0, count = 0, current = 0, groupClone, inputClone, divClone;
	for (i; i < totalAmount; i++) {
		if (i !== 0) {
			if (count === groupAmount) {
				count = 0;
				current = i;
			} else {
				count++;
			}
		}

		if (count === 0) {
			groupClone = group.cloneNode();
			inputClone = input.cloneNode();
			inputClone.setAttribute('j-value', current);
			inputClone.setAttribute('j-placeholder', 'placeholder');
			groupClone.appendChild(inputClone);
			container.appendChild(groupClone);
		} else {
			groupClone = groupClone || group.cloneNode();
			divClone = div.cloneNode();
			divClone.innerText = current;
			divClone.setAttribute('j-text', current);
			groupClone.appendChild(divClone);
		}
	}
	console.log('ended creating elements');

	console.time('qsa');
	qsa(/j-value/, function (element) {
		// console.log(element);
	}, container);
	console.timeEnd('qsa');

	console.time('qsa std');
	var elements = container.querySelectorAll('[j-value]');
	// console.log(elements);
	console.timeEnd('qsa std');

</script>
