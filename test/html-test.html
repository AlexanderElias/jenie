
<style>
	[j-each-item] {
		min-height: 150px;
	}
</style>

<template>
	<div>
		<div>
			<p j-text="text | upper">{{NULL}}</p>
			<input type="text" j-value="text" placeholder="text">
			<input type="text" j-value="items.0.it.value" placeholder="items.0.it.value">
			<div j-each-item="items">
				<div j-text="item.it.value"></div>
			</div>
			<button j-on-click="say">Say Hello</button>
		</div>
	</div>
</template>

<script>
	Jenie.component({
		name: 'html-test',
		template: 'template',
		model: function (done) {
			setTimeout(function () {
				done({
					text: 'Hello from html test',
					items: [
						{ it: { value: 0 } },
					],
					say: function () {
						console.log('hello');
					}
				});
			}, 500);
		},
		modifiers: {
			upper: function () {
				return this.toUpperCase();
			}
		},
		created: function () {
			var self = this;

			var increaseInterval = setInterval(function () {
				if (self.model.items.length === 15) {
					clearInterval(increaseInterval);

					var decreaseInterval = setInterval(function () {
						if (self.model.items.length === 5) clearInterval(decreaseInterval);
						self.model.items.del(self.model.items.length-1);
					}, 100);
				}

				self.model.items.ins(self.model.items.length, { it: { value: self.model.items.length } });
			}, 100);

		}
	});
</script>
