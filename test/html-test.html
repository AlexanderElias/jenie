
<style>
	[j-each-item] {
		min-height: 150px;
	}
</style>

<template>
	<div>
		<div>
			<p j-text="text | upper">{{NULL}}</p>
			<input type="text" j-value="text" placeholder="text">
			<input type="text" j-value="items.0.it.value" placeholder="items.0.it.value">
			<div j-each-item="items">
				<div j-text="item.it.value"></div>
			</div>
			<button j-on-click="say">Say Hello</button>
		</div>
	</div>
</template>

<script>
	Jenie.component({
		name: 'html-test',
		template: 'template',
		model: {
			text: 'Hello from html test',
			items: [
				{ it: { value: 'foo' } },
				{ it: { value: 'bar' } },
				{ it: { value: 'baz' } }
			],
			say: function () {
				console.log('hello');
			}
		},
		modifiers: {
			upper: function () {
				return this.toUpperCase();
			}
		},
		created: function () {
			// console.log('created ' + self.name);
		},
		attached: function () {
			// console.log('attached ' + this.name);
			var self = this;

			// self.model.text = 'new html render';

			setTimeout(function () {
				self.model.items.del('0');
				console.log(self.model);
			}, 1500);

			// setTimeout(function () {
			// 	self.model.items.ins(self.model.items.length-1, 'taz');
			// }, 1000);

			// var increaseInterval = setInterval(function () {
			// 	if (self.model.items.length === 5) {
			// 		clearInterval(increaseInterval);
			//
			// 		var decreaseInterval = setInterval(function () {
			// 			if (self.model.items.length === 3) clearInterval(decreaseInterval);
			// 			self.model.items.del(self.model.items.length-1);
			// 		}, 1000);
			// 	}
			//
			// 	self.model.items.ins(self.model.items.length, { value: self.model.items.length });
			// }, 1000);

			// console.log(self.binder);

		},
		detached: function () {
			// console.log('detached ' + this.name);
		}
	});
</script>
