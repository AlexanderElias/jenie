
<template>

	<style>
		[j-each-item] {
			min-height: 150px;
		}
	</style>

	<div>
		<p j-text="text | upper"></p>
		<p j-text="text | lower"></p>
		<input type="text" j-value="text | lower" placeholder="text">
		<input type="text" j-value="items.0.it.val" placeholder="items.0.it.val">

		<br>

		<div j-text="isChecked"></div>
		<input type="checkbox" j-value="isChecked">

		<br>

		<div j-text="numRadio"></div>

		<input type="radio" j-value="numRadio">
		<input type="radio" j-value="numRadio">

		<br>

		<div j-each-item="items">
			<div j-on-click="foo" j-text="item.it.val"></div>
		</div>
		<a href="/js">/js</a>
		<button j-on-click="say">Say Hello</button>
	</div>

</template>

<script>
	Jenie.component({
		name: 'html-test',
		template: 'template',
		model: {
			numRadio: 0,
			isChecked: true,
			text: 'Hello from html test',
			items: [
				{ it: { val: 0 } },
				{ it: { val: 1 } }
			]
		},
		modifiers: {
			lower: function () {
				return this.toLowerCase();
			},
			upper: function () {
				return this.toUpperCase();
			}
		},
		events: {
			foo: function () {
				console.log('foo');
			},
			say: function (e) {
				console.log(e);
				var say = Jenie.module.import('say');
				say('hello from button');
			}
		},
		created: function () {
			var self = this;

			window.SELF = self;

			setTimeout(function () {
				var increaseInterval = setInterval(function () {

					if (self.model.items.length === 100) {
						clearInterval(increaseInterval);

						var decreaseInterval = setInterval(function () {

							if (self.model.items.length === 5) {
								clearInterval(decreaseInterval);
							}

							self.model.items.pop();
						}, 10);

					}

					self.model.items.push({ it: { val: self.model.items.length } });

				}, 10);
			}, 1000);

		}
	});
</script>
