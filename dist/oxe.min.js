/*
	Name: Oxe
	Version: 3.0.0
	License: MPL-2.0
	Author: Alexander Elias
	Email: alex.steven.elias@gmail.com
	This Source Code Form is subject to the terms of the Mozilla Public
	License, v. 2.0. If a copy of the MPL was not distributed with this
	file, You can obtain one at http://mozilla.org/MPL/2.0/.
*/
(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?module.exports=t():'function'==typeof define&&define.amd?define('Oxe',t):e.Oxe=t()})(this,function(){'use strict';function e(){this.events={}}var t=function(){this.data={}};t.prototype.handleSlots=function(e,t){for(var a=t.content.querySelectorAll('slot'),n=0,r=a.length;n<r;n++){var o=a[n],i=o.getAttribute('name'),l=e.querySelector('[slot="'+i+'"]');l&&o.parentElement.replaceChild(l,o)}},t.prototype.render=function(e,t,a){if(this.data[t].ready)return a?a():void 0;if('function'==typeof e)return e(function(e){this.render(e,t,a)}.bind(this));var n=document.createElement('template');return'string'==typeof e?n.innerHTML=e:'object'==typeof e&&n.content.appendChild(e),this.data[t].ready=!0,this.data[t].template=n,a?a():void 0},t.prototype.created=function(e,t){var a=this;Object.defineProperty(e,'scope',{enumerable:!0,value:t.name+'-'+t.count++}),e.setAttribute('o-scope',e.scope),y.model.set(e.scope,t.model||{}),y.methods.data[e.scope]=t.methods,a.render(t.template,t.name,function(){t.shadow&&'attachShadow'in document.body?e.attachShadow({mode:'open'}).appendChild(document.importNode(t.template.content,!0)):t.shadow&&'createShadowRoot'in document.body?e.createShadowRoot().appendChild(document.importNode(t.template.content,!0)):(a.handleSlots(e,t.template),e.appendChild(document.importNode(t.template.content,!0))),t.created&&t.created.call(e)})},t.prototype.define=function(e){var t=this;if(!e.name)throw new Error('Oxe.component.define - Requires name');if(e.name in t.data)throw new Error('Oxe.component.define - Component already defined');t.data[e.name]=e,e.count=0,e.ready=!1,e.model=e.model||{},e.shadow=e.shadow||!1,e.template=e.template||'',e.properties=e.properties||{},e.properties.scope={enumerable:!0,configurable:!0},e.properties.model={enumerable:!0,configurable:!0,get:function(){return y.model.get(this.scope)},set:function(e){return e=e&&'object'==typeof e?e:{},y.model.set(this.scope,e)}},e.properties.methods={enumerable:!0,get:function(){return y.methods.data[this.scope]}},e.proto=Object.create(HTMLElement.prototype,e.properties),e.proto.attachedCallback=e.attached,e.proto.detachedCallback=e.detached,e.proto.attributeChangedCallback=e.attributed,e.proto.createdCallback=function(){t.created(this,e)},document.registerElement(e.name,{prototype:e.proto})};var a={};a.PATH=/\s*\|.*/,a.PREFIX=/(data-)?o-/,a.ROOT=/^(https?:)?\/?\//,a.TYPE=/(data-)?o-|-.*$/g,a.SPLIT_MODIFIERS=/\s|\s?,\s?/,a.binderNormalize=function(e){return e?e.replace(/\s+$/,'').replace(/^\s+/,'').replace(/\.{2,}/g,'.').replace(/\|{2,}/g,'|').replace(/\,{2,}/g,',').replace(/\s{2,}/g,' ').replace(/\s?\|\s?/,'|'):''},a.binderName=function(e){return e.replace(this.PREFIX,'')},a.binderType=function(e){return e.replace(this.TYPE,'')},a.binderNames=function(e){return e.replace(this.PREFIX,'').split('-')},a.binderValues=function(e){e=a.binderNormalize(e);var t=e.indexOf('|');return-1===t?e.split('.'):e.slice(0,t).split('.')},a.binderModifiers=function(e){e=a.binderNormalize(e);var t=e.indexOf('|');return-1===t?[]:e.slice(t+1).split(a.SPLIT_MODIFIERS)},a.binderPath=function(e){return a.binderNormalize(e).replace(a.PATH,'')},a.formData=function(e,n,r){for(var o=e.querySelectorAll('[o-value]'),d={},s=0,p=0,m=0,i=o.length;m<i;m++){var l=o[m],u=l.getAttribute('o-value');if(u){u=u.replace(/\s*\|.*/,'');var h=u.split('.').slice(-1);if(d[h]=a.getByPath(n,u),d[h]&&d[h].constructor===FileList){var y=d[h];d[h]=[];for(var g=0,c=y.length;g<c;g++){var t=y[g],f=new FileReader;p++,f.onload=function(t,a,n,o){t[a].push({type:n.type,size:n.size,name:n.name,data:o.target.result,lastModified:n.lastModified}),s++,m===i&&p==s&&r(t)}.bind(null,d,h,t),f.readAsText(t)}}}}m===i&&p==s&&r(d)},a.walker=function(e,t){for(t(e),e=e.firstChild;e;)this.walker(e,t),e=e.nextSibling},a.replaceEachVariable=function(e,t,a,n){var r=this;this.walker(e,function(e){if(3===e.nodeType)(e.nodeValue==='$'+t||e.nodeValue==='$index')&&(e.nodeValue=n);else if(1===e.nodeType)for(var r=0,o=e.attributes.length;r<o;r++){var i=e.attributes[r],l=i.name,d=i.value.split(' ')[0].split('|')[0];(0===l.indexOf('o-')||0===l.indexOf('data-o-'))&&(d===t||0===d.indexOf(t))&&(i.value=a+'.'+n+i.value.slice(t.length))}})},a.traverse=function(e,t,a){for(var n,r='string'==typeof t?t.split('.'):t,o=r.length-1,l=0;l<o;l++){if(n=r[l],!(n in e))if('function'==typeof a)a(e,n,l,r);else return;e=e[n]}return{data:e,key:r[o]}},a.setByPath=function(e,t,a){for(var n,r='string'==typeof t?t.split('.'):t,o=r.length-1,l=0;l<o;l++)n=r[l],n in e||(isNaN(r[l+1])?e[n]={}:e[n]=[]),e=e[n];return e[r[o]]=a},a.getByPath=function(e,t){for(var a,n='string'==typeof t?t.split('.'):t,r=n.length-1,o=0;o<r;o++){if(a=n[o],!(a in e))return;e=e[a]}return e[n[r]]},a.joinDot=function(){return Array.prototype.join.call(arguments,'.').replace(/\.{2,}/g,'.')},a.getContainer=function(e){return e.hasAttribute('o-scope')||e.hasAttribute('data-o-scope')?e:e.parentElement?this.getContainer(e.parentElement):void(console.warn('Oxe.utility - could not find container scope'),console.warn(e))},a.extension=function(e){var t=e.lastIndexOf('.');return 0<t?e.slice(t+1):''},a.join=function(){return Array.prototype.join.call(arguments,'/').replace(/\/{2,}/g,'/').replace(/^(https?:\/)/,'$1/')},a.base=function(){return window.document.head.querySelector('base')?window.document.head.querySelector('base').href:window.location.origin+'/'},a.resolve=function(e,t){var a=[];if(e=e.replace(window.location.origin,''),0===e.indexOf('http://')||0===e.indexOf('https://')||0===e.indexOf('//'))return e;0!==e.indexOf('/')&&(t=t||this.base(),e=t+'/'+e,e=e.replace(window.location.origin,'')),e=e.replace(/\/{2,}/,'/'),e=e.replace(/^\//,''),e=e.replace(/\/$/,'');for(var n=e.split('/'),r=0,o=n.length;r<o;r++)if('.'===n[r]||''===n[r])continue;else'..'===n[r]?0<r&&a.splice(r-1,1):a.push(n[r]);return'/'+a.join('/')},e.prototype.on=function(e,t){e in this.events||(this.events[e]=[]),this.events[e].push(t)},e.prototype.off=function(e,t){if(e in this.events){var a=this.events[e].indexOf(t);-1!==a&&this.events[e].splice(a,1)}},e.prototype.emit=function(e){if(e in this.events)for(var t=this.events[e],a=Array.prototype.slice.call(arguments,1),n=0,r=t.length;n<r;n++)t[n].apply(this,a)};var n=function(t){e.call(this),this.reads=[],this.writes=[],this.fps=1e3/60,this.pending=!1,this.setup(t)};n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.setup=function(e){e=e||{},e.fps=void 0===e.fps||null===e.fps?this.fps:e.fps},n.prototype.read=function(e,t){var a=t?e.bind(t):e;return this.reads.push(a),this.tick(),a},n.prototype.write=function(e,t){var a=t?e.bind(t):e;return this.writes.push(a),this.tick(),a},n.prototype.tick=function(){this.pending||(this.pending=!0,window.requestAnimationFrame(this.flush.bind(this)))},n.prototype.flush=function(e){var t;try{t=this.runReads(this.reads,e),this.runWrites(this.writes,t)}catch(t){if(this.events.error&&this.events.error.length)this.emit('error',t);else throw t}this.pending=!1,(this.reads.length||this.writes.length)&&this.tick()},n.prototype.runWrites=function(e,t){for(var a;a=e.shift();)if(a(),t&&e.length===t)return},n.prototype.runReads=function(e,t){for(var a;a=e.shift();)if(a(),this.fps&&performance.now()-t>this.fps)return e.length},n.prototype.remove=function(e,t){var a=e.indexOf(t);return!!~a&&!!e.splice(a,1)},n.prototype.clear=function(e){return this.remove(this.reads,e)||this.remove(this.writes,e)};var r=function(e){this.setup(e)};r.prototype.mime={xml:'text/xml; charset=utf-8',html:'text/html; charset=utf-8',text:'text/plain; charset=utf-8',json:'application/json; charset=utf-8',js:'application/javascript; charset=utf-8'},r.prototype.setup=function(e){e=e||{},this.auth=e.auth||!1,this.type=e.type||'text',this.method=e.method||'get',this.request=e.request||e.request,this.response=e.response||e.response},r.prototype.serialize=function(e){var t='';for(var a in e)t=0<t.length?t+'&':t,t=t+encodeURIComponent(a)+'='+encodeURIComponent(e[a]);return t},r.prototype.change=function(e,t,a){if(4===a.readyState){if(t.opt=e,t.xhr=a,t.statusCode=a.status,t.statusText=a.statusText,t.data=void 0===a.response?void 0===a.responseText?void 0:a.responseText:a.response,'json'===e.responseType&&'string'==typeof t.data)try{t.data=JSON.parse(t.data)}catch(e){console.warn(e)}if((401===a.status||403===a.status)&&t.opt.auth&&y.keeper.response)return y.keeper.response(t);if(this.response&&!1===this.response(t))return;200<=a.status&&300>a.status||304==a.status?e.success?e.success(t):e.handler&&(e.error=!1,e.handler(t)):e.error?e.error(t):e.handler&&(e.error=!0,e.handler(t))}},r.prototype.fetch=function(e){var t,a={},n=new XMLHttpRequest;if(e=e||{},e.headers={},e.url=e.url?e.url:window.location.href,e.type=void 0===e.type||null===e.type?this.type:e.type,e.auth=void 0===e.auth||null===e.auth?this.auth:e.auth,e.method=void 0===e.method||null===e.method?this.method:e.method,e.method=e.method.toUpperCase(),n.open(e.method,e.url,!0,e.username,e.password),e.type&&(e.acceptType=e.acceptType||e.type,e.contentType=e.contentType||e.type,e.responseType=e.responseType||e.type),e.contentType)switch(e.contentType){case'js':e.headers['Content-Type']=this.mime.js;break;case'xml':e.headers['Content-Type']=this.mime.xml;break;case'html':e.headers['Content-Type']=this.mime.html;break;case'json':e.headers['Content-Type']=this.mime.json;break;default:e.headers['Content-Type']=this.mime.text;}if(e.acceptType)switch(e.acceptType){case'js':e.headers.Accept=this.mime.js;break;case'xml':e.headers.Accept=this.mime.xml;break;case'html':e.headers.Accept=this.mime.html;break;case'json':e.headers.Accept=this.mime.json;break;default:e.headers.Accept=this.mime.text;}if(e.responseType)switch(e.responseType){case'json':n.responseType='json';break;case'blob':n.responseType='blob';break;case'xml':n.responseType='document';break;case'html':n.responseType='document';break;case'document':n.responseType='document';break;case'arraybuffer':n.responseType='arraybuffer';break;default:n.responseType='text';}if(e.mimeType&&n.overrideMimeType(e.mimeType),e.withCredentials&&(n.withCredentials=e.withCredentials),e.headers)for(var r in e.headers)n.setRequestHeader(r,e.headers[r]);e.data&&('GET'===e.method?e.url=e.url+'?'+this.serialize(e.data):'json'===e.contentType&&(t=JSON.stringify(e.data))),a.xhr=n,a.opt=e,a.data=e.data,a.opt.auth&&!1===y.keeper.request(a)||this.request&&!1===this.request(a)||(n.onreadystatechange=this.change.bind(this,e,a,n),n.send(t))},r.prototype.post=function(e){return e.method='post',this.fetch(e)},r.prototype.get=function(e){return e.method='get',this.fetch(e)},r.prototype.put=function(e){return e.method='put',this.fetch(e)},r.prototype.head=function(e){return e.method='head',this.fetch(e)},r.prototype.patch=function(e){return e.method='patch',this.fetch(e)},r.prototype.delete=function(e){return e.method='delete',this.fetch(e)},r.prototype.options=function(e){return e.method='options',this.fetch(e)},r.prototype.connect=function(e){return e.method='connect',this.fetch(e)};var o=function(t){e.call(this),this.route={},this.routes=[],this.location={},this.ran=!1,this.auth=!1,this.hash=!1,this.trailing=!1,this.clone=null,this.element=null,this.container=null,this.setup(t)};o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.prototype.setup=function(e){e=e||{},this.container=e.container,this.auth=void 0===e.auth?this.auth:e.auth,this.hash=void 0===e.hash?this.hash:e.hash,this.routes=void 0===e.routes?this.routes:e.routes,this.element=void 0===e.element?this.element:e.element,this.external=void 0===e.external?this.external:e.external,this.trailing=void 0===e.trailing?this.trailing:e.trailing},o.prototype.scroll=function(e,t){window.scroll(e,t)},o.prototype.back=function(){window.history.back()},o.prototype.redirect=function(e){window.location.href=e},o.prototype.add=function(e){'Object'===e.constructor.name?this.routes.push(e):'Array'===e.constructor.name&&(this.routes=this.routes.concat(e))},o.prototype.remove=function(e){for(var t=0,a=this.routes.length;t<a;t++)e===this.routes[t].path&&this.routes.splice(t,1)},o.prototype.get=function(e){for(var t,a=0,n=this.routes.length;a<n;a++)if(t=this.routes[a],e===t.path)return t},o.prototype.find=function(e){for(var t,a=0,n=this.routes.length;a<n;a++)if(t=this.routes[a],this.isPath(t.path,e))return t},o.prototype.isPath=function(e,t){return t=t||'/',new RegExp('^'+e.replace(/{\*}/g,'(?:.*)').replace(/{(\w+)}/g,'([^/]+)')+'(/)?$').test(t)},o.prototype.toParameterObject=function(e,t){var a={};if(!e||!t||'/'===e||'/'===t)return a;for(var n=/{|}/g,r=/{(\w+)}/,o=t.split('/'),d=e.split('/'),s=0,i=d.length;s<i;s++)if(r.test(d[s])){var l=d[s].replace(n,'');a[l]=o[s]}return a},o.prototype.toQueryString=function(e){var t='?';for(var a in e){var n=e[a];t+=a+'='+n+'&'}return'&'===t.slice(-1)&&(t=t.slice(0,-1)),t},o.prototype.toQueryObject=function(e){var t={};0===e.indexOf('?')&&(e=e.slice(1));for(var a,n=e.split('&'),r=0,o=n.length;r<o;r++)a=n[r].split('='),a[0]&&a[1]&&(t[a[0]]=a[1]);return t},o.prototype.toLocationObject=function(e){var t={};t.port=window.location.port,t.host=window.location.host,t.hash=window.location.hash,t.origin=window.location.origin,t.hostname=window.location.hostname,t.protocol=window.location.protocol,t.username=window.location.username,t.password=window.location.password,t.pathname=decodeURI(e),t.base=y.utility.base(),t.basename=t.base,0===t.basename.indexOf(t.origin)&&(t.basename=t.basename.slice(t.origin.length)),0===t.pathname.indexOf(t.origin)&&(t.pathname=t.pathname.slice(t.origin.length)),0===t.pathname.indexOf(t.basename)&&(t.pathname=t.pathname.slice(t.basename.length)),0===t.pathname.indexOf(t.basename.slice(0,-1))&&(t.pathname=t.pathname.slice(t.basename.slice(0,-1).length)),(this.hash&&0===t.pathname.indexOf('#')||0===t.pathname.indexOf('/#')||0===t.pathname.indexOf('#/')||0===t.pathname.indexOf('/#/'))&&(t.pathname=t.pathname.slice(2));var a=t.pathname.indexOf('#');-1===a?t.hash='':(t.hash=t.pathname.slice(a),t.pathname=t.pathname.slice(0,a));var n=t.pathname.indexOf('?');return-1===n?t.search='':(t.search=t.pathname.slice(n),t.pathname=t.pathname.slice(0,n)),t.routePath=y.utility.join('/',t.pathname),t.pathname=y.utility.join(t.basename,t.pathname),t.href=y.utility.join(t.origin,this.hash?'#':'/',t.pathname),this.trailing?(t.href=y.utility.join(t.href,'/'),t.pathname=y.utility.join(t.pathname,'/')):(t.href=t.href.replace(/\/{1,}$/,''),t.pathname=t.pathname.replace(/\/{1,}$/,'')),this.hash&&/\/#$/.test(t.href)&&(t.href+='/'),t.routePath=t.routePath||'/',t.pathname=t.pathname||'/',t.href+=t.search,t.href+=t.hash,t},o.prototype.render=function(e){var t=this;t.emit('navigating'),e.title&&(document.title=e.title),e.url&&y.loader.load(e.url),t.domReady(function(){t.routeReady(e,function(){t.element.parentNode.replaceChild(e.element,t.element),t.element=e.element,t.scroll(0,0),t.emit('navigated')})})},o.prototype.navigate=function(e,t){var a,n;return t=t||{},'string'==typeof e?(t.query&&(e+=this.toQueryString(t.query)),a=this.toLocationObject(e),n=this.find(a.routePath)||{},a.title=n.title||'',a.query=this.toQueryObject(a.search),a.parameters=this.toParameterObject(n.path,a.routePath)):(a=e,n=this.find(a.routePath)||{}),this.auth&&(!0===n.auth||void 0===n.auth)&&!1===y.keeper.route(n)?void 0:n.handler?n.handler(n):n.redirect?redirect(n.redirect):void(this.route=n,this.location=a,window.history[t.replace?'replaceState':'pushState'](a,a.title,a.href),this.render(n))},o.prototype.routeReady=function(e,t){if(e.element)return t(e);if('function'==typeof e.template)return e.template(function(a){e.template=a,this.routeReady(e,t)}.bind(this));var a=this.clone.cloneNode();'string'==typeof e.template?a.innerHTML=e.template:'object'==typeof e.template&&a.appendChild(e.template),e.element=a,e.element.inRouterCache=!1,e.element.isRouterComponent=!0,t(e)},o.prototype.elementReady=function(e){if(this.clone&&this.element)return e();var t=this.element||'o-router';'string'==typeof t&&(t=document.body.querySelector(t)),t&&(this.element=t,this.clone=t.cloneNode(),e())},o.prototype.domReady=function(e){'interactive'===document.readyState||'complete'===document.readyState?this.elementReady(e):document.addEventListener('DOMContentLoaded',this.domReady.bind(this),!0)},o.prototype.stateListener=function(t){this.navigate(t.state||window.location.href,{replace:!0})},o.prototype.clickListener=function(t){var e=t.path?t.path[0]:t.target,a=e.parentNode;if(this.container){for(;a&&a!==this.container;)a=a.parentNode;if(a!==this.container)return}if(!(t.metaKey||t.ctrlKey||t.shiftKey)){for(;e&&'A'!==e.nodeName;)e=e.parentNode;!e||'A'!==e.nodeName||e.hasAttribute('download')||e.hasAttribute('external')||e.hasAttribute('o-external')||0===e.href.indexOf('tel:')||0===e.href.indexOf('ftp:')||0===e.href.indexOf('file:')||0===e.href.indexOf('mailto:')||0!==e.href.indexOf(window.location.origin)||this.external&&('RegExp'===this.external.constructor.name&&this.external.test(e.href)||'Function'===this.external.constructor.name&&this.external(e.href)||'String'===this.external.constructor.name&&this.external===e.href)||(t.preventDefault(),this.location.href!==e.href&&this.navigate(e.href))}},o.prototype.run=function(){if(!this.ran){this.ran=!0;document.addEventListener('click',this.clickListener.bind(this),!0),window.addEventListener('popstate',this.stateListener.bind(this),!0),this.navigate(window.location.href,{replace:!0})}};var l={_innerHandler:function(e){return'\''===e?'\\\'':'"'===e?'\\"':'\t'===e?'\\t':'\n'===e?'\\n':void 0},_updateString:function(e,t,a){return a.slice(0,t)+e+a.slice(t+1)},_updateIndex:function(e,t){return t+e.length-1},template:function(e){var t=e.indexOf('`'),a=e.indexOf('`',t+1);if(-1===t||-1===a)return e;for(var n,r,o=0,i=0,l=e,d=!1,s=0;s<l.length;s++)r=l[s],'`'===r&&'\\'!==l[s-1]?d?(o++,n='\'',d=!1,l=this._updateString(n,s,l),s=this._updateIndex(n,s)):(i++,n='\'',d=!0,l=this._updateString(n,s,l),s=this._updateIndex(n,s)):d&&(n=this._innerHandler(r,s,l))&&(l=this._updateString(n,s,l),s=this._updateIndex(n,s));if(l=l.replace(/\${(.*?)}/g,'\'+$1+\''),i==o)return l;throw new Error('Oxe - Transformer missing backtick')},patterns:{exps:/export\s+(?:default|var|let|const)?\s+/g,imps:/import(?:\s+(?:\*\s+as\s+)?\w+\s+from)?\s+(?:'|").*?(?:'|")/g,imp:/import(?:\s+(?:\*\s+as\s+)?(\w+)\s+from)?\s+(?:'|")(.*?)(?:'|")/},getImports:function(e,t){for(var a,n=[],r=e.match(this.patterns.imps)||[],o=0,i=r.length;o<i;o++)a=r[o].match(this.patterns.imp),n[o]={raw:a[0],name:a[1],url:y.utility.resolve(a[2],t),extension:y.utility.extension(a[2])},n[o].extension||(n[o].url+='.js');return n},getExports:function(e){for(var t,a=[],n=e.match(this.patterns.exps)||[],r=0,o=n.length;r<o;r++)t=n[r],a[r]={raw:t,default:-1!==t.indexOf('default')};return a},replaceImports:function(e,t){if(!t.length)return e;for(var a=0,n=t.length;a<n;a++){var r=t[a],o=(r.name?'var '+r.name+' = ':'')+'$LOADER.modules[\''+r.url+'\'].result';e=e.replace(r.raw,o)}return e},replaceExports:function(e,t){if(!t.length)return e;if(1===t.length)return e.replace(t[0].raw,'return ');var a,n;for(e='var $EXPORT = {};\n'+e,e+='\nreturn $EXPORT;\n',(a=0,n=t.length);a<n;a++)e=e.replace(t[a].raw,'$EXPORT.');return e},ast:function(e){var t={};return t.url=e.url,t.raw=e.text,t.cooked=e.text,t.base=t.url.slice(0,t.url.lastIndexOf('/')+1),t.imports=this.getImports(t.raw,t.base),t.exports=this.getExports(t.raw),t.cooked=this.replaceImports(t.cooked,t.imports),t.cooked=this.replaceExports(t.cooked,t.exports),t}},i=function(t){e.call(this),this.loads=[],this.ran=!1,this.methods={},this.modules={},this.transformers={},this.setup(t),document.addEventListener('load',this.listener.bind(this),!0)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.setup=function(e){e=e||{},this.methods=e.methods||this.methods,this.loads=e.loads||this.loads,this.transformers=e.transformers||this.transformers},i.prototype.execute=function(e){var t='\'use strict\';\n\n'+(e.ast?e.ast.cooked:e.text),a=new Function('$LOADER','window',t);e.result=a(this,window)},i.prototype.ready=function(e){if(e&&e.listener&&e.listener.length)for(var t;t=e.listener.shift();)t(e)},i.prototype.fetch=function(e){var t=this,a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState)if(200<=a.status&&300>a.status||304==a.status)e.text=a.responseText,'js'===e.extension?e.transformer?t.transform(e,function(){t.execute(e),t.ready(e)}):(t.execute(e),t.ready(e)):t.ready(e);else throw new Error(a.responseText)},a.open('GET',e.url),a.send()},i.prototype.transform=function(e,t){if(('es'===e.transformer||'est'===e.transformer)&&(e.text=l.template(e.text)),('es'===e.transformer||'esm'===e.transformer)&&(e.ast=l.ast(e)),e.ast&&e.ast.imports.length)for(var a=0,n=e.ast.imports.length,r=function(){a++,a===n&&t()},o=0;o<n;o++)this.load(e.ast.imports[o].url,r);else t()},i.prototype.attach=function(e){var t=document.createElement(e.tag);for(var a in e.attributes['o-load']='true',e.attributes)t.setAttribute(a,e.attributes[a]);document.head.appendChild(t)},i.prototype.js=function(e){'fetch'===e.method||'es'===e.transformer||'est'===e.transformer||'esm'===e.transformer?this.fetch(e):'script'===e.method?this.attach({tag:'script',attributes:{type:'text/javascript',src:e.url,async:'true'}}):this.attach({tag:'script',attributes:{type:'module',src:e.url,async:'true'}})},i.prototype.css=function(e){'fetch'===e.method?this.fetch(e):this.attach({tag:'link',attributes:{href:e.url,type:'text/css',rel:'stylesheet'}})},i.prototype.load=function(e,t){if('string'==typeof e?e={url:e}:t=e.listener,e.url=y.utility.resolve(e.url),e.url in this.modules){var a=this.modules[e.url];return void(a.listener.length?t&&a.listener.push(t):(a.listener.push(t),this.ready(a)))}this.modules[e.url]=e,e.extension=e.extension||y.utility.extension(e.url),e.listener=t?[t]:[],e.method=e.method||this.methods[e.extension],e.transformer=e.transformer||this.transformers[e.extension],'js'===e.extension?this.js(e):'css'===e.extension?this.css(e):this.fetch(e)},i.prototype.listener=function(t){var e=t.target;if(1===e.nodeType&&e.hasAttribute('o-load')){var a=y.utility.resolve(e.src||e.href),n=this.modules[a];this.ready(n)}},i.prototype.run=function(){if(!this.ran){this.ran=!0;for(var e;e=this.loads.shift();)this.load(e)}};var d={alt:function(e){e.element.alt=''},each:function(e){for(var t;t=e.element.lastElementChild;)e.element.removeChild(t)},href:function(e){e.element.href=''},class:function(e){var t=e.names.slice(1).join('-');e.element.classList.remove(t)},html:function(e){for(var t;t=e.element.lastElementChild;)e.element.removeChild(t)},on:function(e){e.element.removeEventListener(e.names[1],e.cache,!1)},css:function(e){e.element.style.cssText=''},required:function(e){e.element.required=!1},src:function(e){e.element.src=''},text:function(e){e.element.innerText=''},value:function(e){var t,a,n,r,o;if('checkbox'===e.element.type)e.element.checked=!1,e.element.value=!1;else if('SELECT'===e.element.nodeName)for(o=e.element.options,t=0,a=o.length;t<a;t++)r=o[t],r.selected=!1;else if('radio'===e.element.type)for(n='input[type="radio"][o-value="'+e.path+'"]',o=e.element.parentNode.querySelectorAll(n),(t=0,a=o.length);t<a;t++)r=o[t],r.checked=0===t;else e.element.value=''},default:function(e){console.log(e)}},s={};s.required=function(e){y.batcher.read(function(){return e.element.required===e.data?void(e.pending=!1):void y.batcher.write(function(){e.element.required=y.binder.modifyData(e,e.data),e.pending=!1})})},s.disable=function(e){y.batcher.read(function(){return e.element.disabled===e.data?void(e.pending=!1):void y.batcher.write(function(){e.element.disabled=y.binder.modifyData(e,e.data),e.pending=!1})})},s.enable=function(e){y.batcher.read(function(){return e.element.disabled===!e.data?void(e.pending=!1):void y.batcher.write(function(){e.element.disabled=!y.binder.modifyData(e,e.data),e.pending=!1})})},s.hide=function(e){y.batcher.read(function(){return e.element.hidden===e.data?void(e.pending=!1):void y.batcher.write(function(){e.element.hidden=y.binder.modifyData(e,e.data),e.pending=!1})})},s.show=function(e){y.batcher.read(function(){return e.element.hidden===!e.data?void(e.pending=!1):void y.batcher.write(function(){e.element.hidden=!y.binder.modifyData(e,e.data),e.pending=!1})})},s.read=function(e){y.batcher.read(function(){return e.element.readOnly===e.data?void(e.pending=!1):void y.batcher.write(function(){e.element.readOnly=y.binder.modifyData(e,e.data),e.pending=!1})})},s.write=function(e){y.batcher.read(function(){return e.element.readOnly===!e.data?void(e.pending=!1):void y.batcher.write(function(){e.element.readOnly=!y.binder.modifyData(e,e.data),e.pending=!1})})},s.html=function(e){y.batcher.read(function(){return e.element.innerHTML===e.data?void(e.pending=!1):void y.batcher.write(function(){e.element.innerHTML=y.binder.modifyData(e,e.data),e.pending=!1})})},s.class=function(e){y.batcher.write(function(){var t=e.names.slice(1).join('-');e.element.classList.toggle(t,y.binder.modifyData(e,e.data)),e.pending=!1})},s.on=function(e){e.cache?e.element.removeEventListener(e.names[1],e.cache):e.cache=y.utility.getByPath(y.methods.data,e.scope+'.'+e.path).bind(e.container),e.element.addEventListener(e.names[1],e.cache),e.pending=!1},s.css=function(e){y.batcher.read(function(){if(e.element.style.cssText===e.data)return void(e.pending=!1);var t;1<e.names.length&&(t=e.names.slice(1).join('-')+': '+t+';'),y.batcher.write(function(){e.element.style.cssText=y.binder.modifyData(e,t),e.pending=!1})})},s.text=function(e){var t=void 0===e.data||null===e.data?'':e.data;t&&'object'==typeof t?t=JSON.stringify(t):t&&'string'!=typeof t&&(t+=''),y.batcher.write(function(){e.element.innerText=y.binder.modifyData(e,t),e.pending=!1})},s.each=function(e){return e.element.children.length===e.data.length?void(e.pending=!1):void(!e.cache&&(e.cache=e.element.removeChild(e.element.firstElementChild)),y.batcher.read(function(){var t,a=e.element,n=y.binder.modifyData(e,e.data),r=n.length,o=a.children.length;y.batcher.write(function(){for(;o!==r;)o>r?(o--,a.removeChild(a.children[o])):o<r&&(t=e.cache.cloneNode(!0),y.utility.replaceEachVariable(t,e.names[1],e.path,o),a.appendChild(t),o++);e.pending=!1})}))},s.value=function(e,t){y.batcher.read(function(){var a,n,r,o,i,l,d,s=e.element.type,p=e.element.nodeName;if('view'===t){if('SELECT'===p){for(a=e.element.multiple?[]:'',d=e.element.options,(o=0,i=d.length);o<i;o++)if(l=d[o],l.selected)if(e.element.multiple)a.push(l.value||l.innerText);else{a=l.value||l.innerText;break}}else if('radio'===s){for(r='input[type="radio"][o-value="'+e.value+'"]',d=e.container.querySelectorAll(r),(o=0,i=d.length);o<i;o++)if(l=d[o],e.element===l){a=o;break}}else a='file'===s?e.element.files:'checkbox'===s?e.element.checked:e.element.value;y.model.set(e.keys,a),e.pending=!1}else y.batcher.write(function(){if('SELECT'===p){for(a=void 0===e.data?e.element.multiple?[]:'':e.data,o=0,i=e.element.options.length;o<i;o++)if(!e.element.options[o].disabled)if(!e.element.options[o].selected)o!==i-1||e.element.multiple||(a=e.element.options[0].value||e.element.options[0].innerText||'');else if(e.element.multiple)a.push(e.element.options[o].value||e.element.options[o].innerText||'');else{a=e.element.options[o].value||e.element.options[o].innerText||'';break}y.model.set(e.keys,a)}else if('radio'===s){for(a=void 0===e.data?y.model.set(e.keys,0):e.data,r='input[type="radio"][o-value="'+e.value+'"]',d=e.container.querySelectorAll(r),(o=0,i=d.length);o<i;o++)l=d[o],l.checked=o===a;d[a].checked=!0}else'file'===s?(n='files',a=void 0===e.data?y.model.set(e.keys,[]):e.data):'checkbox'===s?(n='checked',a=void 0===e.data?y.model.set(e.keys,!1):e.data):(n='value',a=void 0===e.data?y.model.set(e.keys,''):e.data);n&&(e.element[n]=a,e.element[n]=y.binder.modifyData(e,a)),e.pending=!1})})},s.default=function(e){y.batcher.read(function(){e.element[e.type]===e.data||y.batcher.write(function(){e.element[e.type]=y.binder.modifyData(e,e.data)})})};var p=function(){this.data={}};p.prototype.modifyData=function(e,t){if(!e.modifiers.length)return t;for(var a,n=0,r=e.modifiers.length;n<r;n++)a=e.modifiers[n],t=y.methods.data[e.scope][a].call(e.element,t);return t},p.prototype.add=function(e){e.scope in this.data||(this.data[e.scope]={}),e.path in this.data[e.scope]||(this.data[e.scope][e.path]=[]),this.data[e.scope][e.path].push(e)},p.prototype.remove=function(e){if(e.scope in this.data&&e.path in this.data[e.scope])for(var t,a=this.data[e.scope][e.path],n=0,r=a.length;n<r;n++)if(t=a[n],t.element===e.element)return a.splice(n,1)},p.prototype.get=function(e){if(!(e.scope in this.data))return null;if(!(e.path in this.data[e.scope]))return null;for(var t,a=this.data[e.scope][e.path],n=0;n<a.length;n++)if(t=a[n],t.element===e.element&&t.name===e.name)return t;return null},p.prototype.each=function(e,t,a){var n=this.data[e];for(var r in n)if(0===r.indexOf(t)&&(r===t||'.'===r.slice(t.length).charAt(0)))for(var o,l=n[r],d=0;d<l.length;d++)o=l[d],a(o,d,l,n,r)},p.prototype.create=function(e){if(e=e||{},!e.name)throw new Error('Binder.prototype.render - requires a name');if(!e.element)throw new Error('Binder.prototype.render - requires a element');return e.container=e.container||y.utility.getContainer(e.element),e.scope=e.scope||e.container.getAttribute('o-scope'),e.value=e.value||e.element.getAttribute(e.name),e.path=e.path||y.utility.binderPath(e.value),e.type=e.type||y.utility.binderType(e.name),e.names=e.names||y.utility.binderNames(e.name),e.values=e.values||y.utility.binderValues(e.value),e.modifiers=e.modifiers||y.utility.binderModifiers(e.value),e.keys=e.keys||[e.scope].concat(e.values),e.model=e.model||y.model.data[e.scope],e},p.prototype.unrender=function(e,t){e=this.get(e),e&&(e.type in d?d[e.type](e,t):d.default(e),this.remove(e))},p.prototype.render=function(e,t){e=this.create(e),e=this.get(e)||e,e.data=y.model.get(e.keys),e.exists||(e.exists=!0,this.add(e)),e.pending||(e.pending=!0,e.type in s?s[e.type](e,t):s.default(e))};var m=function(e){this._={},this._.token,this.scheme='Bearer',this.type='sessionStorage',Object.defineProperties(this,{token:{enumerable:!0,get:function(){return this._.token=this._.token||window[this.type].getItem('token')}},user:{enumerable:!0,get:function(){return this._.user=this._.user||JSON.parse(window[this.type].getItem('user'))}}}),this.setup(e)};m.prototype.setup=function(e){e=e||{},this._.forbidden=e.forbidden||this._.forbidden,this._.unauthorized=e.unauthorized||this._.unauthorized,this._.authenticated=e.authenticated||this._.authenticated,this._.unauthenticated=e.unauthenticated||this._.unauthenticated,e.type&&(this.type=e.type+'Storage'),e.scheme&&(this.scheme=e.scheme.slice(0,1).toUpperCase()+e.scheme.slice(1))},m.prototype.setToken=function(e){e&&('Basic'===this.scheme&&(e=this.encode(e)),this._.token=window[this.type].setItem('token',e))},m.prototype.setUser=function(e){e&&(e=JSON.stringify(e),this._.user=window[this.type].setItem('user',e))},m.prototype.removeToken=function(){this._.token=null,window[this.type].removeItem('token')},m.prototype.removeUser=function(){this._.user=null,window[this.type].removeItem('user')},m.prototype.authenticate=function(e,t){this.setToken(e),this.setUser(t),'string'==typeof this._.authenticated?y.router.navigate(this._.authenticated):'function'==typeof this._.authenticated&&this._.authenticated()},m.prototype.unauthenticate=function(){this.removeToken(),this.removeUser(),'string'==typeof this._.unauthenticated?y.router.navigate(this._.unauthenticated):'function'==typeof this._.unauthenticated&&this._.unauthenticated()},m.prototype.forbidden=function(e){return'string'==typeof this._.forbidden?y.router.navigate(this._.forbidden):'function'==typeof this._.forbidden&&this._.forbidden(e),!1},m.prototype.unauthorized=function(e){return'string'==typeof this._.unauthorized?y.router.navigate(this._.unauthorized):'function'==typeof this._.unauthorized&&this._.unauthorized(e),!1},m.prototype.route=function(e){return!1===e.auth||!!this.token||this.unauthorized(e)},m.prototype.request=function(e){return!1===e.opt.auth||(this.token?(e.xhr.setRequestHeader('Authorization',this.scheme+' '+this.token),!0):this.unauthorized(e))},m.prototype.response=function(e){return 401===e.statusCode?this.unauthorized(e):403!==e.statusCode||this.forbidden(e)},m.prototype.encode=function(e){return window.btoa(e)},m.prototype.decode=function(e){return window.atob(e)};var c={};c.splice=function(){var e=arguments[0],t=arguments[1],a=2<arguments.length?arguments.length-2:0;if(!this.length||'number'!=typeof e||'number'!=typeof t)return[];0>e?(e=this.length+e,e=0<e?e:0):e=e<this.length?e:this.length,0>t?t=0:t>this.length-e&&(t=this.length-e);var n,r,o,i,l=this.$meta.length,d=2,s=arguments.length-d,p=this.slice(e,t);if(i=l-1-e,0<i)for(r=e;i--;)n=r++,o=s&&d<s?arguments[d++]:this.$meta[r],this.$meta[n]=c.create(o,this.$meta.listener,this.$meta.path+n),this.$meta.listener(this.$meta[n],this.$meta.path+n,n);if(0<a)for(;a--;)n=this.length,this.$meta[n]=c.create(arguments[d++],this.$meta.listener,this.$meta.path+n),c.defineProperty(this,n),this.$meta.listener(this.length,this.$meta.path.slice(0,-1),'length'),this.$meta.listener(this.$meta[n],this.$meta.path+n,n);if(0<t)for(;t--;)this.$meta.length--,this.length--,n=this.length,this.$meta.listener(n,this.$meta.path.slice(0,-1),'length'),this.$meta.listener(void 0,this.$meta.path+n,n);return p},c.arrayProperties=function(){var e=this;return{push:{value:function(){if(!arguments.length)return this.length;for(var t=0,a=arguments.length;t<a;t++)e.splice.call(this,this.length,0,arguments[t]);return this.length}},unshift:{value:function(){if(!arguments.length)return this.length;for(var t=0,a=arguments.length;t<a;t++)e.splice.call(this,0,0,arguments[t]);return this.length}},pop:{value:function(){return this.length?e.splice.call(this,this.length-1,1):void 0}},shift:{value:function(){return this.length?e.splice.call(this,0,1):void 0}},splice:{value:e.splice}}},c.objectProperties=function(){var e=this;return{$get:{value:function(e){return this[e]}},$set:{value:function(t,a){if(a!==this[t]){var n=e.create(a,this.$meta.listener,this.$meta.path+t);return this.$meta[t]=n,e.defineProperty(this,t),this.$meta.listener(n,this.$meta.path+t,t),n}}},$remove:{value:function(t){if(t in this){if(this.constructor===Array)return e.splice.call(this,t,1);var a=this[t];return delete this.$meta[t],delete this[t],this.$meta.listener(void 0,this.$meta.path+t,t),a}}}}},c.property=function(e){var t=this;return{enumerable:!0,configurable:!0,get:function(){return this.$meta[e]},set:function(a){a!==this.$meta[e]&&(this.$meta[e]=t.create(a,this.$meta.listener,this.$meta.path+e),this.$meta.listener(this[e],this.$meta.path+e,e,this))}}},c.defineProperty=function(e,t){return Object.defineProperty(e,t,this.property(t))},c.create=function(e,t,a){var n=this;if(!e||'object'!=typeof e)return e;a=a?a+'.':'';var r,o=e.constructor,i=e.constructor(),l=e.constructor();if(l.$meta={value:e.constructor()},l.$meta.value.path=a,l.$meta.value.listener=t,o===Array){for(r=0,length=e.length;r<length;r++)l.$meta.value[r]=n.create(e[r],t,a+r),l[r]=n.property(r);var d=n.arrayProperties();for(r in d)l[r]=d[r]}else for(r in e)l.$meta.value[r]=n.create(e[r],t,a+r),l[r]=n.property(r);var s=n.objectProperties();for(r in s)l[r]=s[r];return Object.defineProperties(i,l)};var u=function(e){e=e||{},this.GET=2,this.SET=3,this.REMOVE=4,this.data=e.data||{}};u.prototype.traverse=function(e,t,a){'string'==typeof t&&(t=[t]);for(var n,r=this.data,o=t[t.length-1],d=0,i=t.length-1;d<i;d++){if(!(t[d]in r)){if(e===this.GET||e===this.REMOVE)return;e===this.SET&&r.$set(t[d],isNaN(t[d+1])?{}:[])}r=r[t[d]]}return e===this.SET?n=r.$set(o,a):e===this.GET?n=r[o]:e===this.REMOVE&&(n=r[o],r.$remove(o)),n},u.prototype.get=function(e){return this.traverse(this.GET,e)},u.prototype.remove=function(e){return this.traverse(this.REMOVE,e)},u.prototype.set=function(e,t){return this.traverse(this.SET,e,t)},u.prototype.listener=function(e,t){var a=t.split('.');if(!(2>a.length)){var n=a[0],r=void 0===e?'unrender':'render';t=a.slice(1).join('.'),y.binder.each(n,t,function(e){y.binder[r](e)})}},u.prototype.run=function(){this.data=c.create(this.data,this.listener)};var h=function(e){e=e||{},this.data={},this.ran=!1,this.element=e.element||document.body};h.prototype.hasAcceptAttribute=function(e){for(var t,a=e.attributes,n=0,r=a.length;n<r;n++)if(t=a[n],0===t.name.indexOf('o-')||0===t.name.indexOf('data-o-'))return!0;return!1},h.prototype.eachAttribute=function(e,t){for(var a,n=e.attributes,r=0,o=n.length;r<o;r++)(a=n[r],0===a.name.indexOf('o-')||0===a.name.indexOf('data-o-'))&&'o-scope'!==a.name&&'o-auth'!==a.name&&'o-reset'!==a.name&&'o-method'!==a.name&&'o-action'!==a.name&&'o-external'!==a.name&&'data-o-scope'!==a.name&&'data-o-auth'!==a.name&&'data-o-reset'!==a.name&&'data-o-method'!==a.name&&'data-o-action'!==a.name&&'data-o-external'!==a.name&&t.call(this,a)},h.prototype.each=function(e,t,a){if('O-ROUTER'!==e.nodeName&&!e.hasAttribute('o-router')&&!e.hasAttribute('o-external')&&!e.hasAttribute('data-o-router')&&!e.hasAttribute('data-o-external')&&this.hasAcceptAttribute(e)){e.hasAttribute('o-scope')||e.hasAttribute('data-o-scope')?a=e:document.body.contains(e)?!a&&(a=y.utility.getContainer(e)):a=y.utility.getContainer(a);var n=a.getAttribute('o-scope')||a.getAttribute('data-o-scope');t.call(this,e,a,n)}if('STYLE'!==e.nodeName&'SCRIPT'!==e.nodeName&'OBJECT'!==e.nodeName&'IFRAME'!==e.nodeName)for(var r=0,o=e.children.length;r<o;r++)this.each(e.children[r],t,a)},h.prototype.add=function(e){this.each(e,function(e,t,a){this.eachAttribute(e,function(n){y.binder.render({scope:a,element:e,container:t,name:n.name,value:n.value})})})},h.prototype.remove=function(e,t){this.each(e,function(e,t,a){this.eachAttribute(e,function(n){y.binder.unrender({scope:a,element:e,container:t,name:n.name,value:n.value})})},t)},h.prototype.inputListener=function(t){'checkbox'!==t.target.type&&'radio'!==t.target.type&&'option'!==t.target.type&&'SELECT'!==t.target.nodeName&&y.binder.render({name:'o-value',element:t.target},'view')},h.prototype.changeListener=function(t){y.binder.render({name:'o-value',element:t.target},'view')},h.prototype.loadListener=function(){this.add(this.element)},h.prototype.mutationListener=function(e){for(var t,a=e.length;a--;){var n=e[a].target,r=e[a].addedNodes,o=e[a].removedNodes;for(t=r.length;t--;){var i=r[t];1!==i.nodeType||i.inRouterCache||(i.isRouterComponent&&(i.inRouterCache=!0),this.add(i))}for(t=o.length;t--;){var l=o[t];1!==l.nodeType||l.inRouterCache||(l.isRouterComponent&&(l.inRouterCache=!0),this.remove(l,n))}}},h.prototype.run=function(){var e=this;e.ran||(e.ran=!0,document.addEventListener('input',e.inputListener.bind(e),!0),document.addEventListener('change',e.changeListener.bind(e),!0),'interactive'===document.readyState||'complete'===document.readyState?e.add(e.element):document.addEventListener('DOMContentLoaded',e.loadListener.bind(e),!0),new MutationObserver(e.mutationListener.bind(e)).observe(e.element,{childList:!0,subtree:!0}))};var y=Object.defineProperties({},{window:{enumerable:!0,get:function(){return window}},document:{enumerable:!0,get:function(){return window.document}},body:{enumerable:!0,get:function(){return window.document.body}},head:{enumerable:!0,get:function(){return window.document.head}},location:{enumerable:!0,get:function(){return this.router.location}},currentScript:{enumerable:!0,get:function(){return window.document._currentScript||window.document.currentScript}},ownerDocument:{enumerable:!0,get:function(){return(window.document._currentScript||window.document.currentScript).ownerDocument}},global:{enumerable:!0,value:{}},methods:{enumerable:!0,value:{data:{}}},utility:{enumerable:!0,value:a},model:{enumerable:!0,value:new u},view:{enumerable:!0,value:new h},binder:{enumerable:!0,value:new p},keeper:{enumerable:!0,value:new m},loader:{enumerable:!0,value:new i},router:{enumerable:!0,value:new o},batcher:{enumerable:!0,value:new n},fetcher:{enumerable:!0,value:new r},component:{enumerable:!0,value:new t},setup:{enumerable:!0,value:function(e){this.isSetup||(this.isSetup=!0,e=e||{},e.keeper&&this.keeper.setup(e.keeper),e.fetcher&&this.fetcher.setup(e.fetcher),e.loader&&this.loader.setup(e.loader),e.router&&this.router.setup(e.router),this.loader.run(),this.router.run(),this.model.run(),this.view.run())}}});y.document.addEventListener('reset',function(t){var e=t.target,a=e.getAttribute('o-submit')||e.getAttribute('data-o-submit');if(a)for(var n=e.querySelectorAll('[o-value]'),r=n.length;r--;)y.binder.unrender({name:'o-value',element:n[r]},'view')},!0),y.document.addEventListener('submit',function(t){var e=t.target,a=e.getAttribute('o-submit')||e.getAttribute('data-o-submit');if(a){t.preventDefault();var n=y.utility.getContainer(e),r=n.getAttribute('o-scope'),o=y.model.data[r];y.utility.formData(e,o,function(r){var i=y.utility.getByPath(n.methods,a),l=i.call(o,r,t);if(l&&'object'==typeof l){var d=e.getAttribute('o-auth')||e.getAttribute('data-o-auth'),s=e.getAttribute('o-action')||e.getAttribute('data-o-action'),i=e.getAttribute('o-method')||e.getAttribute('data-o-method');l.url=l.url||s,l.method=l.method||i,l.auth=void 0===l.auth?d:l.auth,y.fetcher.fetch(l)}(l&&'object'==typeof l&&l.reset||e.hasAttribute('o-reset'))&&e.reset()})}},!0);var g=y.document.createElement('style'),f=y.document.createTextNode('o-router, o-router > :first-child { display: block; }');g.appendChild(f),g.setAttribute('title','Oxe'),g.setAttribute('type','text/css'),y.head.appendChild(g);var b=function(){var e=y.document.querySelector('[o-index-url]');if(e){var t=e.getAttribute('o-index-url'),a=e.getAttribute('o-index-method'),n=e.getAttribute('o-index-transformer');y.loader.load({url:t,method:a,transformer:n})}y.document.registerElement('o-router',{prototype:Object.create(HTMLElement.prototype)})};return'registerElement'in y.document&&'content'in y.document.createElement('template')?b():y.loader.load({method:'script',url:'https://unpkg.com/oxe@2.9.9/dist/webcomponents-lite.min.js'},b),y});