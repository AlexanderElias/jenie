/*
			name: jenie
		version: 1.3.5
		license: mpl-2.0
		author: alexander elias

		This Source Code Form is subject to the terms of the Mozilla Public
		License, v. 2.0. If a copy of the MPL was not distributed with this
		file, You can obtain one at http://mozilla.org/MPL/2.0/.
	*/
(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?module.exports=b():'function'==typeof define&&define.amd?define('Jenie',b):a.Jenie=b()})(this,function(){'use strict';function a(){}function b(t){Object.defineProperty(this,'data',{value:t||[]})}function c(){this.data=new b}function d(t){this.view=t.view,this.model=t.model,this.data=t.data,this.element=t.element,this.attribute=t.attribute,this.modifiers=t.modifiers,this.renderMethod=(this.renderMethods[this.attribute.cmds[0]]||this.renderMethods['default']).bind(this),this.unrenderMethod=(this.unrenderMethods[this.attribute.cmds[0]]||this.unrenderMethods['default']).bind(this),Object.defineProperty(this,'data',{enumerable:!0,configurable:!0,get:function(){var u=this.model.get(this.attribute.path);return this.modifiers.forEach(function(v){u=v.call(u)}),u},set:function(u){return this.modifiers.forEach(function(v){u=v.call(u)}),this.model.set(this.attribute.path,u)}}),this.renderMethod()}function g(t,u){var v=this;if(v.view=new c,v.model=new a,v._model=t.model||{},v._view=(t.view.shadowRoot||t.view).querySelectorAll('*'),v.name=t.name,v.modifiers=t.modifiers||{},v.model.listener(function(w,z){void 0===z?v.view.unrenderAll('^'+w+'.*'):v.view.renderAll('^'+w)}),v.view.listener(function(w,z){v.view.data.get(z.path).push(new d({view:v.view,model:v.model,element:w,attribute:z,modifiers:z.modifiers.map(function(A){return v.modifiers[A]})}))}),'function'==typeof t.model)v._model.call(v,function(w){if(v._model=w,v.model.run(v._model),v.view.run(v._view),u)return u.call(v)});else if(v.model.run(v._model),v.view.run(v._view),u)return u.call(v)}function h(t){var u=this;if(!t)throw new Error('Component missing options');if(!t.name)throw new Error('Component missing options.name');if(!t.template)throw new Error('Component missing options.template');u.name=t.name,u.model=t.model,u.modifiers=t.modifiers,u.currentScript=document._currentScript||document.currentScript,u.template=u._template(t.template),u.elementPrototype=Object.create(HTMLElement.prototype),u.elementPrototype.attachedCallback=t.attached,u.elementPrototype.detachedCallback=t.detached,u.elementPrototype.attributeChangedCallback=t.attributed,u.elementPrototype.createdCallback=function(){var v=this,w=document.importNode(u.template.content,!0);v.uuid=q();var z=v.querySelectorAll('[slot]');if(0<z.length)for(var A=0,B=z.length;A<B;A++){var C=z[A],D=C.getAttribute('slot'),E=w.querySelector('slot[name='+D+']');E.parentNode.replaceChild(C,E)}v.appendChild(w),u.model?v.binder=new g({view:v,name:v.uuid,model:u.model,modifiers:u.modifiers},function(){var F=this;v.model=F.model.data,v.view=F.view.data,t.created&&t.created.call(v)}):t.created&&t.created.call(v)},u._define()}function j(){this.events={}}function k(t){var u=this;t=t||{},j.call(u),u.state={},u.cache={},u.origin=window.location.origin,u.external=t.external,u.routes=t.routes||[],u.view=t.view||'j-view',u.hash=!!t.hash&&t.hash,u.contain=!!t.contain&&t.contain,u.base=t.base||'',Object.defineProperty(this,'root',{enumerable:!0,get:function(){return this.hash?'/#/':'/'}}),document.registerElement('j-view',{prototype:Object.create(HTMLElement.prototype)})}function m(){this.modules={}}function n(){}a.prototype.join=function(){return Array.prototype.join.call(arguments,'.').replace(/\.{2,}/g,'.').replace(/^\.|\.$/g,'')},a.prototype.isCollection=function(t){return t&&('Object'===t.constructor.name||'Array'===t.constructor.name)},a.prototype.defineSplice=function(t,u,v,w){var z=this;w[2]?(Array.prototype.splice.call(u,w[0],w[1]),z.emit(z.join(t),v)):Array.prototype.slice.call(w,2).forEach(function(A){A=z.defineCollection(t,A),Array.prototype.splice.call(u,w[0],w[1],A),v=z.defineProperty(t,u,v,u.length-1),z.emit(z.join(t),v)})},a.prototype.arrayPushUnshift=function(t,u,v,w,z){var A=this;Array.prototype.forEach.call(z,function(B){B=A.defineCollection(t,B),Array.prototype[w].call(u,B),v=A.defineProperty(t,u,v,u.length-1),A.emit(A.join(t),v)})},a.prototype.arrayPopShift=function(t,u,v,w){var z=this;Array.prototype[w].call(u),Array.prototype.pop.call(v),z.emit(z.join(t),v)},a.prototype.defineArray=function(t,u,v){var w=this;return Object.defineProperties(v,{splice:{value:function(){return w.defineSplice(t,u,v,arguments)}},push:{value:function(){return w.arrayPushUnshift(t,u,v,'push',arguments)}},unshift:{value:function(){return w.arrayPushUnshift(t,u,v,'unshift',arguments)}},pop:{value:function(){return w.arrayPopShift(t,u,v,'pop')}},shift:{value:function(){return w.arrayPopShift(t,u,v,'shift')}}})},a.prototype.defineObject=function(t,u,v){var w=this;return Object.defineProperties(v,{set:{value:function(z,A){w.isCollection(A)&&(A=w.defineCollection(w.join(t,z),A)),u[z]=A,v=w.defineProperty(t,u,v,z),w.emit(w.join(t,z),v[z])}},remove:{value:function(z){delete v[z],delete u[z],w.emit(w.join(t,z),void 0)}}})},a.prototype.defineProperty=function(t,u,v,w){var z=this;return Object.defineProperty(v,w,{enumerable:!0,configurable:!0,get:function(){return u[w]},set:function(A){u[w]!==A&&(A===void 0?(delete u[w],delete v[w],z.emit(z.join(t,w),void 0)):(u[w]=z.defineCollection(z.join(t,w),A),z.emit(z.join(t,w),v[w])))}})},a.prototype.defineCollection=function(t,u){var v=this;if(!v.isCollection(u))return u;var w=u?u.constructor.name:'',z=u.constructor(),A=u.constructor();return'Object'===w?z=v.defineObject(t,A,z):'Array'===w&&(z=v.defineArray(t,A,z)),Object.keys(u).forEach(function(B){void 0!==u[B]&&(A[B]=v.defineCollection(v.join(t,B),u[B]),z=v.defineProperty(t,A,z,B))}),z},a.prototype.set=function(t,u){for(var B,v=t.split('.'),w=v.length-1,z=this.data,A=0;A<w;A++)B=v[A],void 0===z[B]&&(z[B]={}),z=z[B];return z[v[w]]=u},a.prototype.get=function(t){for(var u=t.split('.'),v=u.length-1,w=this.data,z=0;z<v;z++){if(!w[u[z]])return;w=w[u[z]]}return w[u[v]]},a.prototype.listener=function(t){this.emit=t},a.prototype.run=function(t){this.data=this.defineCollection('',t)},b.prototype.get=function(t){for(var u=0;u<this.data.length;u++)if(t===this.data[u][0])return this.data[u][1]},b.prototype.remove=function(t){for(var u=0;u<this.data.length;u++)if(t===this.data[u][0])return this.data.splice(u,1)[0][1]},b.prototype.removeById=function(t){return this.data.splice(t,1)},b.prototype.has=function(t){for(var u=0;u<this.data.length;u++)if(t===this.data[u][0])return!0;return!1},b.prototype.set=function(t,u){for(var v=0;v<this.data.length;v++)if(t===this.data[v][0])return this.data[v][1]=u;return this.data[this.data.length]=[t,u]},b.prototype.push=function(t){return this.data[this.data.length]=[this.data.length,t],t},b.prototype.size=function(){return this.data.length},b.prototype.forEach=function(t,u){u=u||null;for(var v=0;v<this.data.length;v++)t.call(u,this.data[v][1],this.data[v][0],v,this.data)},c.prototype.regexp={PATH:/\s?\|(.*?)$/,PREFIX:/(data-)?j-/,MODIFIERS:/^(.*?)\|\s?/,ATTRIBUTE_ACCEPTS:/(data-)?j-/,ELEMENT_ACCEPTS:/(data-)?j-/,ELEMENT_REJECTS_CHILDREN:/(data-)?j-each/,ELEMENT_REJECTS:/^\w+(-\w+)+|^iframe|^object|^script/},c.prototype.preview=function(t){return t.outerHTML.replace(/\/?>([\s\S])*/,'').replace(/^</,'')},c.prototype.eachElement=function(t,u){for(var v=0;v<t.length;v++){var w=t[v],z=this.preview(w);this.regexp.ELEMENT_REJECTS.test(z)?v+=w.querySelectorAll('*').length:this.regexp.ELEMENT_REJECTS_CHILDREN.test(z)?(v+=w.querySelectorAll('*').length,u.call(this,w)):this.regexp.ELEMENT_ACCEPTS.test(z)&&u.call(this,w)}},c.prototype.eachAttribute=function(t,u){Array.prototype.forEach.call(t.attributes,function(v){if(this.regexp.ATTRIBUTE_ACCEPTS.test(v.name)){var w={};w.name=v.name,w.value=v.value,w.path=w.value.replace(this.regexp.PATH,''),w.opts=w.path.split('.'),w.command=w.name.replace(this.regexp.PREFIX,''),w.cmds=w.command.split('-'),w.key=w.opts.slice(-1),w.modifiers=-1===w.value.indexOf('|')?[]:w.value.replace(this.regexp.MODIFIERS,'').split(' '),u.call(this,w)}},this)},c.prototype.unrenderAll=function(t){t='string'==typeof t?new RegExp(t):t,this.data.forEach(function(u,v){u.forEach(function(w){t.test(v)&&w.unrender()},this)},this)},c.prototype.renderAll=function(t){t='string'==typeof t?new RegExp(t):t,this.data.forEach(function(u,v){u.forEach(function(w){t.test(v)&&w.render()},this)},this)},c.prototype.removeOne=function(t){this.data.forEach(function(u,v,w){u.forEach(function(z,A,B){t===z.element&&(u.removeById(B),0===u.size()&&this.data.removeById(w))},this)},this)},c.prototype.removeAll=function(t){Array.prototype.forEach.call(t,function(u){this.removeOne(u)},this)},c.prototype.addOne=function(t){var u=this;u.eachAttribute(t,function(v){u.data.has(v.path)||u.data.set(v.path,new b),u.emit(t,v)})},c.prototype.addAll=function(t){this.eachElement(t,function(u){this.addOne(u)})},c.prototype.listener=function(t){this.emit=t},c.prototype.run=function(t){this.elements=t,this.addAll(this.elements)},d.prototype.setByPath=function(t,u,v){for(var B,w=u.split('.'),z=w.length-1,A=0;A<z;A++)B=w[A],void 0===t[B]&&(t[B]={}),t=t[B];return t[w[z]]=v},d.prototype.toCamelCase=function(t){return'Array'===t.constructor.name&&(t=t.join('-')),t.replace(/-[a-z]/g,function(u){return u[1].toUpperCase()})},d.prototype.renderMethods={on:function(){var t=this;t.eventName||(t.eventName=t.attribute.cmds[1],t.eventMethod=t.data.bind(t.model.data)),t.element.removeEventListener(t.eventName,t.eventMethod),t.element.addEventListener(t.eventName,t.eventMethod)},each:function(){var t=this;if(t.data=t.data||[],t.clone||(t.variable=t.attribute.cmds.slice(1).join('.'),t.clone=t.element.removeChild(t.element.children[0]).outerHTML,t.pattern=new RegExp('(((data-)?j(-(\\w)+)+="))'+t.variable+'(((\\.(\\w)+)+)?((\\s+)?\\|((\\s+)?(\\w)+)+)?(\\s+)?")','g')),t.element.children.length>t.data.length)for(;t.element.children.length>t.data.length;)t.view.removeAll(t.element.children[t.element.children.length-1].getElementsByTagName('*')),t.view.removeOne(t.element.children[t.element.children.length-1]),t.element.removeChild(t.element.children[t.element.children.length-1]);else if(t.element.children.length<t.data.length)for(;t.element.children.length<t.data.length;)t.element.insertAdjacentHTML('beforeend',t.clone.replace(t.pattern,'$1'+t.attribute.path+'.'+t.element.children.length+'$6')),t.view.addAll(t.element.children[t.element.children.length-1].getElementsByTagName('*')),t.view.addOne(t.element.children[t.element.children.length-1])},value:function(){var t=this;return t.change?void 0:'button'===t.element.type||'reset'===t.element.type?t.change=!0:void(t.change=function(){t.data='radio'!==t.element.type&&'checked'!==t.element.type?t.element.value:t.element.checked},t.element.addEventListener('change',t.change.bind(t),!0),t.element.addEventListener('keyup',t.change.bind(t),!0))},html:function(){this.element.innerHTML=this.data,this.view.addAll(this.element.getElementsByTagName('*'))},css:function(){var t=this.data;1<this.attribute.cmds.length&&(t=this.attribute.cmds.slice(1).join('-')+': '+t+';'),this.element.style.cssText+=t},class:function(){var t=this.attribute.cmds.slice(1).join('-');this.element.classList.toggle(t,this.data)},text:function(){this.element.innerText=this.data},enable:function(){this.element.disabled=!this.data},disable:function(){this.element.disabled=this.data},show:function(){this.element.hidden=!this.data},hide:function(){this.element.hidden=this.data},write:function(){this.element.readOnly=!this.data},read:function(){this.element.readOnly=this.data},selected:function(){this.element.selectedIndex=this.data},default:function(){var t=this.toCamelCase(this.attribute.cmds);this.setByPath(this.element,t,this.data)}},d.prototype.unrenderMethods={on:function(){var t=this.attribute.cmds[1];this.element.removeEventListener(t,this.data,!1)},each:function(){for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild)},value:function(){this.element.removeEventListener('change',this.change.bind(this)),this.element.removeEventListener('keyup',this.change.bind(this))},html:function(){this.element.innerText=''},text:function(){this.element.innerText=''},default:function(){}},d.prototype.unrender=function(){return this.unrenderMethod(),this},d.prototype.render=function(){return this.renderMethod(),this};var p='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split(''),q=function(t){var v,u=[];if(t)for(v=0;v<t;v++)u[v]=p[0|Math.random()*t];else{var w;for(u[8]='-',u[13]='-',u[14]='4',u[18]='-',u[23]='-',v=0;36>v;v++)u[v]||(w=0|16*Math.random(),u[v]=p[19==v?8|3&w:w])}return u.join('')};h.prototype._comment=function(t){if('function'!=typeof t)throw new Error('Comment must be a function');var u=/\/\*!?(?:\@preserve)?[ \t]*(?:\r\n|\n)([\s\S]*?)(?:\r\n|\n)\s*\*\//,v=u.exec(t.toString());if(!v)throw new Error('Comment missing');return v[1]},h.prototype._dom=function(t){var u=document.createElement('div');return u.innerHTML=t,u.children[0]},h.prototype._template=function(t){return'Function'===t.constructor.name?(t=this._comment(t),t=this._dom(t)):'String'===t.constructor.name&&(/<|>/.test(t)?t=this._dom(t):t=this.currentScript.ownerDocument.querySelector(t)),t},h.prototype._define=function(){document.registerElement(this.name,{prototype:this.elementPrototype})},j.prototype.on=function(t,u){'object'!=typeof this.events[t]&&(this.events[t]=[]),this.events[t].push(u)},j.prototype.off=function(t,u){if('object'==typeof this.events[t]){var v=this.events[t].indexOf(u);-1<v&&this.events[t].splice(v,1)}},j.prototype.once=function(t,u){this.on(t,function v(){this.off(t,v),u.apply(this,arguments)})},j.prototype.emit=function(t){if('object'==typeof this.events[t])for(var u=this.events[t].slice(),v=[].slice.call(arguments,1),w=0,z=u.length;w<z;w++)u[w].apply(this,v)},k.prototype=Object.create(j.prototype),k.prototype.constructor=k,k.prototype._popstate=function(t){this.navigate(t.state||window.location.href,!0)},k.prototype._click=function(t){var u=this;if(!(t.metaKey||t.ctrlKey||t.shiftKey)){for(var v=t.path?t.path[0]:t.target;v&&'A'!==v.nodeName;)v=v.parentNode;if(v&&'A'===v.nodeName){var w=v.getAttribute('href');if(u.external){if('Function'===u.external.constructor.name&&u.external(w))return;if('RegExp'===u.external.constructor.name&&u.external.test(w))return;if('String'===u.external.constructor.name&&new RegExp(u.external).test(w))return}v.hasAttribute('download')||v.hasAttribute('external')||-1!==w.indexOf('mailto:')||-1!==w.indexOf('tel:')||-1!==w.indexOf('file:')||-1!==w.indexOf('ftp:')||(t.preventDefault(),u.navigate(w))}}},k.prototype._load=function(t){if(this.view='string'==typeof this.view?document.querySelector(this.view):this.view,(this.contain?this.view:window).addEventListener('click',this._click.bind(this)),window.addEventListener('popstate',this._popstate.bind(this)),window.removeEventListener('DOMContentLoaded',this._load),this.navigate(window.location.href,!0),t)return t()},k.prototype.listen=function(t,u){if(t)for(var v in t)this[v]=t[v];'complete'===document.readyState||'loaded'===document.readyState?this._load(u):window.addEventListener('DOMContentLoaded',this._load.bind(this,u),!0)},k.prototype.normalize=function(t){return t=decodeURI(t).replace(/\/{2,}/g,'/').replace(/(http(s)?:\/)/,'$1/').replace(/\?.*?/,''),this.hash||(t=t.replace(/#.*?$/,'')),t=''===t?'/':t},k.prototype.parse=function(t){return new RegExp('^'+t.replace(/{\*}/g,'(?:.*)').replace(/{(\w+)}/g,'([^/]+)')+'(/)?$')},k.prototype.parameters=function(t,u){var v,w={},z=/{|}/g,A=/{(\w+)}/,B=u.split('/'),C=t.split('/');return C.forEach(function(D,E){A.test(D)&&(v=D.replace(z,''),w[v]=B[E])}),w},k.prototype.join=function(){return this.normalize(Array.prototype.join.call(arguments,'/'))},k.prototype.scroll=function(t,u){window.scroll(t,u)},k.prototype.url=function(t){var u={};return u.path=t,u.base=this.base,u.root=this.root,u.origin=this.origin,0===u.path.indexOf(u.origin)&&(u.path=u.path.replace(u.origin,'')),0===u.path.indexOf(u.base)&&(u.path=u.path.replace(u.base,'')),0===u.path.indexOf(window.location.origin)&&(u.path=u.path.replace(window.location.origin,'')),0===u.path.indexOf(u.root)&&(u.path=u.path.replace(u.root,'/')),'/'!==u.path[0]&&(u.path=this.join(window.location.pathname.replace(this.base,''),u.path)),u.path=this.join(u.path,'/'),u.href=this.join(u.origin,u.base,u.root,u.path),u},k.prototype.appendComponentElement=function(t,u){var v;if(/\.html$/.test(t))v=document.createElement('link'),v.setAttribute('href',t),v.setAttribute('rel','import');else if(/\.js$/.test(t))v=document.createElement('script'),v.setAttribute('src',t),v.setAttribute('type','text/javascript');else throw new Error('Invalid extension type');v.onload=u,v.setAttribute('async',''),document.head.appendChild(v)},k.prototype.render=function(t,u){var v=this;t.title&&(document.title=t.title);var w=function(){if(v.view.firstChild&&v.view.removeChild(v.view.firstChild),v.cache[t.component]||(v.cache[t.component]=document.createElement(t.component)),v.view.appendChild(v.cache[t.component]),u)return u()};t.componentUrl&&!v.cache[t.component]?v.appendComponentElement(t.componentUrl,w):w()},k.prototype.redirect=function(t,u){return window.location.href=t,u()},k.prototype.add=function(t){var u=this;'Object'===t.constructor.name?u.routes.push(t):'Array'===t.constructor.name&&(u.routes=u.routes.concat(t))},k.prototype.remove=function(t){for(var u=this,v=0,w=u.routes.length;v<w;v++)if(t===u.routes[v].path)return u.routes.splice(v,1)},k.prototype.get=function(t){for(var z,u=this,v=0,w=u.routes.length;v<w;v++)if(z=u.routes[v],!z.path)continue;else if('String'===z.path.constructor.name){if(u.parse(z.path).test(t))return z.parameters=u.parameters(z.path,t),z;}else if('RegExp'===z.path.constructor.name){if(z.path.test(t))return z;}else if('Function'===z.path.constructor.name&&z.path(t))return z},k.prototype.navigate=function(t,u){var v=this;'string'==typeof t?(v.state.url=v.url(t),v.state.route=v.get(v.state.url.path)||{},v.state.parameters=v.state.route.parameters||{},v.state.title=v.state.route.title||''):v.state=t,window.history[u?'replaceState':'pushState'](v.state,v.state.route.title,v.state.url.href),v.state.route.redirect?v.redirect(v.state.route,function(){u||v.scroll(0,0),v.emit('navigated')}):v.render(v.state.route,function(){u||v.scroll(0,0),v.emit('navigated')})},m.prototype.load=function(t){t.forEach(function(u){var v=document.createElement('script');v.src=u,v.async=!1,v.type='text/javascript',document.head.appendChild(v)})},m.prototype.import=function(t){var u=this;if(t in u.modules)return'function'==typeof u.modules[t]?u.modules[t]():u.modules[t];throw new Error('module '+t+' is not defined')},m.prototype.export=function(t,u,v){var w=this;if(t in w.modules)throw new Error('module '+t+' is defined');else return'function'==typeof u&&(v=u,u=[]),'function'==typeof v&&u.forEach(function(z){v=v.bind(null,w.import(z))}),w.modules[t]=v},n.prototype.mime={html:'text/html',text:'text/plain',xml:'application/xml, text/xml',json:'application/json, text/javascript',urlencoded:'application/x-www-form-urlencoded',script:'text/javascript, application/javascript, application/x-javascript'},n.prototype.serialize=function(t){var u='';for(var v in t)u=0<u.length?u+'&':u,u=u+encodeURIComponent(v)+'='+encodeURIComponent(t[v]);return u},n.prototype.fetch=function(t){var u=this;if(t=t?t:{},t.action=t.action?t.action:window.location.href,t.method=t.method?t.method.toUpperCase():'GET',t.headers=t.headers?t.headers:{},t.data)if('GET'===t.method)t.action=t.action+'?'+u.serialize(t.data),t.data=null;else{switch(t.requestType=t.requestType?t.requestType.toLowerCase():'',t.responseType=t.responseType?t.responseType.toLowerCase():'',t.requestType){case'script':t.contentType=u.mime.script;break;case'json':t.contentType=u.self.mime.json;break;case'xml':t.contentType=u.mime.xm;break;case'html':t.contentType=u.mime.html;break;case'text':t.contentType=u.mime.text;break;default:t.contentType=u.mime.urlencoded;}switch(t.responseType){case'script':t.accept=u.mime.script;break;case'json':t.accept=u.mime.json;break;case'xml':t.accept=u.mime.xml;break;case'html':t.accept=u.mime.html;break;case'text':t.accept=u.mime.text;}t.contentType===u.mime.json&&(t.data=JSON.stringify(t.data)),t.contentType===u.mime.urlencoded&&(t.data=u.serialize(t.data))}var v=new XMLHttpRequest;if(v.open(t.method,t.action,!0,t.username,t.password),t.mimeType&&v.overrideMimeType(t.mimeType),t.withCredentials&&(v.withCredentials=t.withCredentials),t.accept&&(t.headers.Accept=t.accept),t.contentType&&(t.headers['Content-Type']=t.contentType),t.headers)for(var w in t.headers)v.setRequestHeader(w,t.headers[w]);v.onreadystatechange=function(){if(4===v.readyState)return 200<=v.status&&400>v.status?t.success(v):t.error(v)},v.send(t.data)};var s=new function(){var u=document.createElement('style'),v=document.createTextNode('j-view, j-view > :first-child { display: block; }');u.appendChild(v),document.head.appendChild(u),this.services={},this.http=new n,this.module=new m,this.router=new k,this.setup=function(w,z){var A=this;w.module&&w.module.forEach(function(B){A.module.export.apply(A,B)}),A.router.listen(w.router,function(){return z()})},this.component=function(w){return new h(w)},this.binder=function(w,z){return new g(w,z)},this.script=function(){return document._currentScript||document.currentScript},this.document=function(){return(document._currentScript||document.currentScript).ownerDocument},this.element=function(w){return(document._currentScript||document.currentScript).ownerDocument.createElement(w)},this.query=function(w){return(document._currentScript||document.currentScript).ownerDocument.querySelector(w)}};return s});