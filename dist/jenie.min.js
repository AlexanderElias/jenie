/*
			name: jenie
		version: 1.4.5
		license: mpl-2.0
		author: alexander elias

		This Source Code Form is subject to the terms of the Mozilla Public
		License, v. 2.0. If a copy of the MPL was not distributed with this
		file, You can obtain one at http://mozilla.org/MPL/2.0/.
	*/
(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?module.exports=b():'function'==typeof define&&define.amd?define('Jenie',b):a.Jenie=b()})(this,function(){'use strict';function a(B){var C=this;C.data=B.data,C.view=B.view,C.model=B.model,C.events=B.events,C.element=B.element,C.attribute=B.attribute,C.modifiers=B.modifiers,C.renderMethod=(C.renderMethods[C.attribute.cmds[0]]||C.renderMethods['default']).bind(C),C.unrenderMethod=(C.unrenderMethods[C.attribute.cmds[0]]||C.unrenderMethods['default']).bind(C),Object.defineProperty(C,'data',{enumerable:!0,configurable:!0,get:function(){var D=s.getByPath(C.model.data,C.attribute.path);return C.modifiers.forEach(function(E){D=E.call(D)}),D},set:function(D){return C.modifiers.forEach(function(E){D=E.call(D)}),s.setByPath(C.model.data,C.attribute.path,D)}}),C.renderMethod()}function b(){}function c(B){Object.defineProperty(this,'data',{value:B||[]})}function d(){this.data=new c}function g(B,C){var D=this;D.view=new d,D.model=new b,D.events=B.events||{},D._model=B.model||{},D._view=(B.view.shadowRoot||B.view).querySelectorAll('*'),D.name=B.name,D.modifiers=B.modifiers||{},D.model.listener(function(E,F){F===void 0?D.view.unrenderAll('^'+E+'.*'):D.view.renderAll('^'+E)}),D.view.listener(function(E,F){D.view.data.get(F.path).push(new a({view:D.view,model:D.model,events:D.events,element:E,attribute:F,modifiers:F.modifiers.map(function(G){return D.modifiers[G]})}))}),'function'==typeof B.model?D._model.call(D,function(E){if(D._model=E,D.model.run(D._model),D.view.run(D._view),C)return C.call(D)}):(D.model.run(D._model),D.view.run(D._view),C&&C.call(D))}function h(B){var C=this;if(B=B||{},!B.name)throw new Error('Component missing options.name');if(!B.template)throw new Error('Component missing options.template');C.name=B.name,C.model=B.model,C.style=B.style,C.events=B.events,C.modifiers=B.modifiers,C.currentScript=document._currentScript||document.currentScript,C.template=C.toTemplate(B.template),C.proto=Object.create(HTMLElement.prototype),C.proto.attachedCallback=B.attached,C.proto.detachedCallback=B.detached,C.proto.attributeChangedCallback=B.attributed,C.proto.createdCallback=function(){C.element=this,C.element.uuid=u(),C.slotify(),C.element.appendChild(document.importNode(C.template.content,!0)),C.model?C.element.controller=new g({model:C.model,view:C.element,events:C.events,name:C.element.uuid,modifiers:C.modifiers},function(){C.element.view=this.view.data,C.element.model=this.model.data,B.created&&B.created.call(C.element)}):B.created&&B.created.call(C.element)},C.define()}function m(){this.events={}}function n(B){m.call(this),B=B||{},this.state={},this.cache={},this.origin=window.location.origin,this.external=B.external,this.routes=B.routes||[],this.view=B.view||'j-view',this.hash=!!B.hash&&B.hash,this.contain=!!B.contain&&B.contain,this.base=B.base||'',Object.defineProperty(this,'root',{enumerable:!0,get:function(){return this.hash?'/#/':'/'}})}function p(B){B=B||{},this.modules={},B.modules&&B.modules.forEach(function(C){this.export.call(this,C.name,C.dependencies||C.method,C.dependencies?C.method:null)},this)}function q(B){B=B||{},this.request=B.request,this.response=B.response}var s={setByPath:function(B,C,D){for(var H,E=C.split('.'),F=E.length-1,G=0;G<F;G++)H=E[G],void 0===B[H]&&(B[H]={}),B=B[H];return B[E[F]]=D},getByPath:function(B,C){for(var D=C.split('.'),E=D.length-1,F=0;F<E;F++){if(!B[D[F]])return;B=B[D[F]]}return B[D[E]]},toCamelCase:function(B){return'Array'===B.constructor.name&&(B=B.join('-')),B.replace(/-[a-z]/g,function(C){return C[1].toUpperCase()})}};a.prototype.renderMethods={on:function(){var B=this;B.eventName||(B.eventName=B.attribute.cmds[1],B.eventMethod=s.getByPath(B.events,B.attribute.path).bind(B.model.data)),B.element.removeEventListener(B.eventName,B.eventMethod),B.element.addEventListener(B.eventName,B.eventMethod)},each:function(){var B=this;if(B.data=B.data||[],B.clone||(B.variable=B.attribute.cmds.slice(1).join('.'),B.clone=B.element.removeChild(B.element.children[0]).outerHTML,B.pattern=new RegExp('(((data-)?j(-(\\w)+)+="))'+B.variable+'(((\\.(\\w)+)+)?((\\s+)?\\|((\\s+)?(\\w)+)+)?(\\s+)?")','g')),B.element.children.length>B.data.length)for(;B.element.children.length>B.data.length;)B.view.removeAll(B.element.children[B.element.children.length-1].querySelectorAll('*')),B.view.removeOne(B.element.children[B.element.children.length-1]),B.element.removeChild(B.element.children[B.element.children.length-1]);else if(B.element.children.length<B.data.length)for(;B.element.children.length<B.data.length;)B.element.insertAdjacentHTML('beforeend',B.clone.replace(B.pattern,'$1'+B.attribute.path+'.'+B.element.children.length+'$6')),B.view.addAll(B.element.children[B.element.children.length-1].querySelectorAll('*')),B.view.addOne(B.element.children[B.element.children.length-1])},value:function(){var B=this;return B.change?void 0:'button'===B.element.type||'reset'===B.element.type?B.change=!0:void(B.change=function(){B.data='radio'!==B.element.type&&'checked'!==B.element.type?B.element.value:B.element.checked},B.element.addEventListener('change',B.change.bind(B),!0),B.element.addEventListener('keyup',B.change.bind(B),!0))},html:function(){this.element.innerHTML=this.data,this.view.addAll(this.element.querySelectorAll('*'))},css:function(){var B=this.data;1<this.attribute.cmds.length&&(B=this.attribute.cmds.slice(1).join('-')+': '+B+';'),this.element.style.cssText+=B},class:function(){var B=this.attribute.cmds.slice(1).join('-');this.element.classList.toggle(B,this.data)},text:function(){this.element.innerText=this.data},enable:function(){this.element.disabled=!this.data},disable:function(){this.element.disabled=this.data},show:function(){this.element.hidden=!this.data},hide:function(){this.element.hidden=this.data},write:function(){this.element.readOnly=!this.data},read:function(){this.element.readOnly=this.data},selected:function(){this.element.selectedIndex=this.data},default:function(){var B=s.toCamelCase(this.attribute.cmds);s.setByPath(this.element,B,this.data)}},a.prototype.unrenderMethods={on:function(){var B=this.attribute.cmds[1];this.element.removeEventListener(B,this.data,!1)},each:function(){for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild)},value:function(){this.element.removeEventListener('change',this.change.bind(this)),this.element.removeEventListener('keyup',this.change.bind(this))},html:function(){this.element.innerText=''},text:function(){this.element.innerText=''},default:function(){}},a.prototype.unrender=function(){return this.unrenderMethod(),this},a.prototype.render=function(){return this.renderMethod(),this},b.prototype.join=function(){return Array.prototype.join.call(arguments,'.').replace(/\.{2,}/g,'.').replace(/^\.|\.$/g,'')},b.prototype.isCollection=function(B){return B&&('Object'===B.constructor.name||'Array'===B.constructor.name)},b.prototype.defineSplice=function(B,C,D,E){var F=this;E[2]?(Array.prototype.splice.call(C,E[0],E[1]),F.emit(F.join(B),D)):Array.prototype.slice.call(E,2).forEach(function(G){G=F.defineCollection(B,G),Array.prototype.splice.call(C,E[0],E[1],G),D=F.defineProperty(B,C,D,C.length-1),F.emit(F.join(B),D)})},b.prototype.arrayPushUnshift=function(B,C,D,E,F){var G=this;Array.prototype.forEach.call(F,function(H){H=G.defineCollection(B,H),Array.prototype[E].call(C,H),D=G.defineProperty(B,C,D,C.length-1),G.emit(G.join(B),D)})},b.prototype.arrayPopShift=function(B,C,D,E){var F=this;Array.prototype[E].call(C),Array.prototype.pop.call(D),F.emit(F.join(B),D)},b.prototype.defineArray=function(B,C,D){var E=this;return Object.defineProperties(D,{splice:{value:function(){return E.defineSplice(B,C,D,arguments)}},push:{value:function(){return E.arrayPushUnshift(B,C,D,'push',arguments)}},unshift:{value:function(){return E.arrayPushUnshift(B,C,D,'unshift',arguments)}},pop:{value:function(){return E.arrayPopShift(B,C,D,'pop')}},shift:{value:function(){return E.arrayPopShift(B,C,D,'shift')}}})},b.prototype.defineObject=function(B,C,D){var E=this;return Object.defineProperties(D,{$set:{value:function(F,G){E.isCollection(G)&&(G=E.defineCollection(E.join(B,F),G)),C[F]=G,D=E.defineProperty(B,C,D,F),E.emit(E.join(B,F),D[F])}},$remove:{value:function(F){delete D[F],delete C[F],E.emit(E.join(B,F),void 0)}}})},b.prototype.defineProperty=function(B,C,D,E){var F=this;return Object.defineProperty(D,E,{enumerable:!0,configurable:!0,get:function(){return C[E]},set:function(G){C[E]!==G&&(G===void 0?(delete C[E],delete D[E],F.emit(F.join(B,E),void 0)):(C[E]=F.defineCollection(F.join(B,E),G),F.emit(F.join(B,E),D[E])))}})},b.prototype.defineCollection=function(B,C){var D=this;if(!D.isCollection(C))return C;var E=C?C.constructor.name:'',F=C.constructor(),G=C.constructor();return'Object'===E?F=D.defineObject(B,G,F):'Array'===E&&(F=D.defineArray(B,G,F)),Object.keys(C).forEach(function(H){void 0!==C[H]&&(G[H]=D.defineCollection(D.join(B,H),C[H]),F=D.defineProperty(B,G,F,H))}),F},b.prototype.listener=function(B){this.emit=B},b.prototype.run=function(B){this.data=this.defineCollection('',B)},c.prototype.get=function(B){for(var C=0;C<this.data.length;C++)if(B===this.data[C][0])return this.data[C][1]},c.prototype.remove=function(B){for(var C=0;C<this.data.length;C++)if(B===this.data[C][0])return this.data.splice(C,1)[0][1]},c.prototype.removeById=function(B){return this.data.splice(B,1)},c.prototype.has=function(B){for(var C=0;C<this.data.length;C++)if(B===this.data[C][0])return!0;return!1},c.prototype.set=function(B,C){for(var D=0;D<this.data.length;D++)if(B===this.data[D][0])return this.data[D][1]=C;return this.data[this.data.length]=[B,C]},c.prototype.push=function(B){return this.data[this.data.length]=[this.data.length,B],B},c.prototype.size=function(){return this.data.length},c.prototype.forEach=function(B,C){C=C||null;for(var D=0;D<this.data.length;D++)B.call(C,this.data[D][1],this.data[D][0],D,this.data)},d.prototype.regexp={PATH:/\s?\|(.*?)$/,PREFIX:/(data-)?j-/,MODIFIERS:/^(.*?)\|\s?/,ATTRIBUTE_ACCEPTS:/(data-)?j-/,ELEMENT_ACCEPTS:/(data-)?j-/,ELEMENT_REJECTS_CHILDREN:/(data-)?j-each/,ELEMENT_REJECTS:/^\w+(-\w+)+|^iframe|^object|^script|^style|^svg/},d.prototype.preview=function(B){return B.outerHTML.replace(/\/?>([\s\S])*/,'').replace(/^</,'')},d.prototype.eachElement=function(B,C){for(var D=0,E=B.length;D<E;D++){var F=B[D],G=this.preview(F);this.regexp.ELEMENT_REJECTS.test(G)?D+=F.querySelectorAll('*').length:this.regexp.ELEMENT_REJECTS_CHILDREN.test(G)?(D+=F.querySelectorAll('*').length,C.call(this,F)):this.regexp.ELEMENT_ACCEPTS.test(G)&&C.call(this,F)}},d.prototype.eachAttribute=function(B,C){Array.prototype.forEach.call(B.attributes,function(D){if(this.regexp.ATTRIBUTE_ACCEPTS.test(D.name)){var E={};E.name=D.name,E.value=D.value,E.path=E.value.replace(this.regexp.PATH,''),E.opts=E.path.split('.'),E.command=E.name.replace(this.regexp.PREFIX,''),E.cmds=E.command.split('-'),E.key=E.opts.slice(-1),E.modifiers=-1===E.value.indexOf('|')?[]:E.value.replace(this.regexp.MODIFIERS,'').split(' '),C.call(this,E)}},this)},d.prototype.unrenderAll=function(B){B='string'==typeof B?new RegExp(B):B,this.data.forEach(function(C,D){C.forEach(function(E){B.test(D)&&E.unrender()},this)},this)},d.prototype.renderAll=function(B){B='string'==typeof B?new RegExp(B):B,this.data.forEach(function(C,D){C.forEach(function(E){B.test(D)&&E.render()},this)},this)},d.prototype.removeOne=function(B){this.data.forEach(function(C,D,E){C.forEach(function(F,G,H){B===F.element&&(C.removeById(H),0===C.size()&&this.data.removeById(E))},this)},this)},d.prototype.removeAll=function(B){Array.prototype.forEach.call(B,function(C){this.removeOne(C)},this)},d.prototype.addOne=function(B){this.eachAttribute(B,function(C){this.data.has(C.path)||this.data.set(C.path,new c),this.emit(B,C)})},d.prototype.addAll=function(B){this.eachElement(B,function(C){this.addOne(C)})},d.prototype.listener=function(B){this.emit=B},d.prototype.run=function(B){this.elements=B,this.addAll(this.elements)};var t='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split(''),u=function(B){var D,C=[];if(B)for(D=0;D<B;D++)C[D]=t[0|Math.random()*B];else{var E;for(C[8]='-',C[13]='-',C[14]='4',C[18]='-',C[23]='-',D=0;36>D;D++)C[D]||(E=0|16*Math.random(),C[D]=t[19==D?8|3&E:E])}return C.join('')};h.prototype.slotify=function(){for(var B=this,C=B.element.querySelectorAll('[slot]'),D=0,E=C.length;D<E;D++){var F=C[D],G=F.getAttribute('slot'),H=B.template.content.querySelector('slot[name='+G+']');H.parentNode.replaceChild(F,H)}},h.prototype.toDom=function(B){var C=document.createElement('template');return C.innerHTML=B,C},h.prototype.toTemplate=function(B){return'String'===B.constructor.name&&(/<|>/.test(B)?B=this.toDom(B):B=this.currentScript.ownerDocument.querySelector(B)),B},h.prototype.define=function(){document.registerElement(this.name,{prototype:this.proto})},m.prototype.on=function(B,C){'object'!=typeof this.events[B]&&(this.events[B]=[]),this.events[B].push(C)},m.prototype.off=function(B,C){if('object'==typeof this.events[B]){var D=this.events[B].indexOf(C);-1<D&&this.events[B].splice(D,1)}},m.prototype.once=function(B,C){this.on(B,function D(){this.off(B,D),C.apply(this,arguments)})},m.prototype.emit=function(B){if('object'==typeof this.events[B])for(var C=this.events[B].slice(),D=[].slice.call(arguments,1),E=0,F=C.length;E<F;E++)C[E].apply(this,D)},n.prototype=Object.create(m.prototype),n.prototype.constructor=n,n.prototype.popstate=function(B){this.navigate(B.state||window.location.href,!0)},n.prototype.click=function(B){var C=this;if(!(B.metaKey||B.ctrlKey||B.shiftKey)){for(var D=B.path?B.path[0]:B.target;D&&'A'!==D.nodeName;)D=D.parentNode;if(D&&'A'===D.nodeName){var E=D.getAttribute('href');C.external&&('Function'===C.external.constructor.name&&C.external(E)||'RegExp'===C.external.constructor.name&&C.external.test(E)||'String'===C.external.constructor.name&&new RegExp(C.external).test(E))||D.hasAttribute('download')||D.hasAttribute('external')||-1!==E.indexOf('mailto:')||-1!==E.indexOf('file:')||-1!==E.indexOf('tel:')||-1!==E.indexOf('ftp:')||(B.preventDefault(),C.navigate(E))}}},n.prototype.start=function(){this.view='string'==typeof this.view?document.querySelector(this.view):this.view,(this.contain?this.view:window).addEventListener('click',this.click.bind(this)),window.addEventListener('popstate',this.popstate.bind(this)),this.navigate(window.location.href,!0)},n.prototype.normalize=function(B){return B=decodeURI(B).replace(/\/{2,}/g,'/').replace(/(http(s)?:\/)/,'$1/').replace(/\?.*?$/,''),this.hash||(B=B.replace(/#.*?$/,'')),B=''===B?'/':B},n.prototype.parse=function(B){return new RegExp('^'+B.replace(/{\*}/g,'(?:.*)').replace(/{(\w+)}/g,'([^/]+)')+'(/)?$')},n.prototype.parameters=function(B,C){var D,E={},F=/{|}/g,G=/{(\w+)}/,H=C.split('/'),I=B.split('/');return I.forEach(function(J,K){G.test(J)&&(D=J.replace(F,''),E[D]=H[K])}),E},n.prototype.join=function(){return this.normalize(Array.prototype.join.call(arguments,'/'))},n.prototype.scroll=function(B,C){window.scroll(B,C)},n.prototype.url=function(B){var C={};return C.path=B,C.base=this.base,C.root=this.root,C.origin=this.origin,0===C.path.indexOf(C.origin)&&(C.path=C.path.replace(C.origin,'')),0===C.path.indexOf(C.base)&&(C.path=C.path.replace(C.base,'')),0===C.path.indexOf(window.location.origin)&&(C.path=C.path.replace(window.location.origin,'')),0===C.path.indexOf(C.root)&&(C.path=C.path.replace(C.root,'/')),'/'!==C.path[0]&&(C.path=this.join(window.location.pathname.replace(this.base,''),C.path)),C.path=this.join(C.path,'/'),C.href=this.join(C.origin,C.base,C.root,C.path),C},n.prototype.appendComponentElement=function(B,C){var D;if(/\.html$/.test(B))D=document.createElement('link'),D.setAttribute('href',B),D.setAttribute('rel','import');else if(/\.js$/.test(B))D=document.createElement('script'),D.setAttribute('src',B),D.setAttribute('type','text/javascript');else throw new Error('Invalid extension type');D.onload=C,D.setAttribute('async',''),document.head.appendChild(D)},n.prototype.render=function(B,C){var D=this;B.title&&(document.title=B.title);var E=function(){if(D.view.firstChild&&D.view.removeChild(D.view.firstChild),D.cache[B.component]||(D.cache[B.component]=document.createElement(B.component)),D.view.appendChild(D.cache[B.component]),C)return C()};B.componentUrl&&!D.cache[B.component]?D.appendComponentElement(B.componentUrl,E):E()},n.prototype.redirect=function(B,C){return window.location.href=B,C()},n.prototype.add=function(B){'Object'===B.constructor.name?this.routes.push(B):'Array'===B.constructor.name&&(this.routes=this.routes.concat(B))},n.prototype.remove=function(B){for(var C=0,D=this.routes.length;C<D;C++)if(B===this.routes[C].path)return this.routes.splice(C,1)},n.prototype.get=function(B){for(var E,C=0,D=this.routes.length;C<D;C++)if(E=this.routes[C],'String'===E.path.constructor.name){if(this.parse(E.path).test(B))return E.parameters=this.parameters(E.path,B),E;}else if('RegExp'===E.path.constructor.name){if(E.path.test(B))return E;}else if('Function'===E.path.constructor.name&&E.path(B))return E},n.prototype.findRoute=function(B){return this.routes.find(function(C){if('String'===C.path.constructor.name)return this.parse(C.path).test(B);return'RegExp'===C.path.constructor.name?C.path.test(B):'Function'===C.path.constructor.name?C.path(B):void 0})},n.prototype.findRoutes=function(B){return this.routes.filter(function(C){return B.test(C.path)},this)},n.prototype.navigate=function(B,C){var D=this;'string'==typeof B?(D.state.url=D.url(B),D.state.route=D.get(D.state.url.path)||{},D.state.parameters=D.state.route.parameters||{},D.state.title=D.state.route.title||''):D.state=B,window.history[C?'replaceState':'pushState'](D.state,D.state.route.title,D.state.url.href),D.state.route.redirect?D.redirect(D.state.route,function(){C||D.scroll(0,0),D.emit('navigated')}):D.render(D.state.route,function(){C||D.scroll(0,0),D.emit('navigated')})},p.prototype.load=function(B){B.forEach(function(C){var D=document.createElement('script');D.src=C,D.async=!1,D.type='text/javascript',document.head.appendChild(D)})},p.prototype.import=function(B){if(B in this.modules)return'function'==typeof this.modules[B]?this.modules[B]():this.modules[B];throw new Error('module '+B+' is not defined')},p.prototype.export=function(B,C,D){if(B in this.modules)throw new Error('module '+B+' is defined');else return'function'==typeof C&&(D=C,C=[]),'function'==typeof D&&C.forEach(function(E){D=D.bind(null,this.import(E))},this),this.modules[B]=D},q.prototype.mime={html:'text/html',text:'text/plain',xml:'application/xml, text/xml',json:'application/json, text/javascript',urlencoded:'application/x-www-form-urlencoded',script:'text/javascript, application/javascript, application/x-javascript'},q.prototype.serialize=function(B){var C='';return Object.keys(B).forEach(function(D){C=0<C.length?C+'&':C,C=C+encodeURIComponent(D)+'='+encodeURIComponent(B[D])}),C},q.prototype.fetch=function(B){var D,E,F,C=this;if(B=B?B:{},B.action=B.action?B.action:window.location.href,B.method=B.method?B.method.toUpperCase():'GET',B.headers=B.headers?B.headers:{},B.data)if('GET'===B.method)B.action=B.action+'?'+C.serialize(B.data),B.data=null;else{switch(B.requestType=B.requestType?B.requestType.toLowerCase():'',B.responseType=B.responseType?B.responseType.toLowerCase():'',B.requestType){case'script':B.contentType=C.mime.script;break;case'json':B.contentType=C.self.mime.json;break;case'xml':B.contentType=C.mime.xm;break;case'html':B.contentType=C.mime.html;break;case'text':B.contentType=C.mime.text;break;default:B.contentType=C.mime.urlencoded;}switch(B.responseType){case'script':B.accept=C.mime.script;break;case'json':B.accept=C.mime.json;break;case'xml':B.accept=C.mime.xml;break;case'html':B.accept=C.mime.html;break;case'text':B.accept=C.mime.text;}B.contentType===C.mime.json&&(B.data=JSON.stringify(B.data)),B.contentType===C.mime.urlencoded&&(B.data=C.serialize(B.data))}D=new XMLHttpRequest,'function'==typeof C.request&&(E=C.request(B,D)),(void 0===E||!0===E)&&(D.open(B.method,B.action,!0,B.username,B.password),B.mimeType&&D.overrideMimeType(B.mimeType),B.withCredentials&&(D.withCredentials=B.withCredentials),B.accept&&(B.headers.Accept=B.accept),B.contentType&&(B.headers['Content-Type']=B.contentType),B.headers&&Object.keys(B.headers).forEach(function(G){D.setRequestHeader(G,B.headers[G])}),D.onreadystatechange=function(){if(4===D.readyState&&('function'==typeof C.response&&(F=C.response(B,D)),void 0===F||!0===F))return 200<=D.status&&400>D.status?B.success(D):B.error(D)},D.send(B.data))};var w=document.createElement('style'),z=document.createTextNode('j-view, j-view > :first-child { display: block; }');w.appendChild(z),document.head.appendChild(w),document.registerElement('j-view',{prototype:Object.create(HTMLElement.prototype)}),function(){Array.prototype.find||Object.defineProperty(Array.prototype,'find',{value:function(B){if(null==this)throw new TypeError('"this" is null or not defined');var C=Object(this),D=C.length>>>0;if('function'!=typeof B)throw new TypeError('predicate must be a function');for(var G,E=arguments[1],F=0;F<D;){if(G=C[F],B.call(E,G,F,C))return G;F++}}})}();var A={http:new q,module:new p,router:new n,setup:function(B){B=('function'==typeof B?B.call(this):B)||{},B.http&&(this.http=new q(B.http)),B.module&&(this.module=new p(B.module)),B.router&&(this.router=new n(B.router)),this.router.start()},component:function(B){return new h(B)},controller:function(B,C){return new g(B,C)},script:function(){return document._currentScript||document.currentScript},document:function(){return(document._currentScript||document.currentScript).ownerDocument},element:function(B){return(document._currentScript||document.currentScript).ownerDocument.createElement(B)},query:function(B){return(document._currentScript||document.currentScript).ownerDocument.querySelector(B)}};return A});